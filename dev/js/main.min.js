function addNewOcean(e,t){db.oceans.put({name:e,seas:t,numOfSeas:t.seas.length})}var app=angular.module("OceanApp",["ngRoute","ngMockE2E","ngMessages","angular-web-notification"]),db=new Dexie("oceansdb-v1");db.version(1).stores({oceans:"name"}),db.open().catch(function(e){console.log("Open failed: "+e)}),app.run(["$httpBackend",function(e){function t(e){for(var t=0;t<e.seas.length;t+=1){var o=Math.floor(7*Math.random()+1),i=(Math.floor(7*Math.random()+1),Math.floor(3*Math.random()+1)),r=(300*Math.random()-200).toFixed(2),a=(300*Math.random()-200).toFixed(2);e.seas[t].coords[0]=r,e.seas[t].coords[1]=a,e.seas[t].tide=n(i),e.seas[t].photo="img/thumb-"+o+".png"}return e}function n(e){return 1==e?"LOW":2==e?"MED":"HIGH"}var o={name:"Pacific Ocean",description:"",coords:[],seas:[{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]}]},i={name:"Pacific Ocean",description:"",coords:[],seas:[{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]}]},r={name:"Pacific Ocean",description:"",coords:[],seas:[{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]}]},a={name:"Pacific Ocean",description:"",coords:[],seas:[{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]}]},s={name:"Pacific Ocean",description:"",coords:[],seas:[{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]},{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]}]},l={name:"Pacific Ocean",description:"",coords:[],seas:[{name:"Amundsen Gulf",id:100,coords:[-13.56,23.97],description:"Amundsen Gulf is a gulf located in Canadian Northwest Territories, between Banks Island and Victoria Island and the mainland. It is approximately 250 mi (400 km) in length and about 93 mi (150 km) across where it meets the Beaufort Sea. The Amundsen Gulf was explored by Norwegian explorer Roald Amundsen between 1903 and 1906. The gulf is at the western end of the famous Northwest Passage, a route from the Atlantic Ocean to the Pacific. ",photo:"img/thumb-1.png",surface:"1,175 km",currenttemp:"40˚ C / 160˚ F",depth:"1,253 m",volume:"547,000 km",togglecomments:!1,followers:[{name:"Mary",photo:"img/avatar-thumb-1.png",dateposted:"01/01/16"},{name:"John",photo:"img/avatar-thumb-2.png",dateposted:"01/01/16"},{name:"Joe",photo:"img/avatar-thumb-3.png",dateposted:"01/01/16"}],tide:"HIGH",comments:[{name:"",img:"",date:"",comment:""},{name:"",img:"",date:"",comment:""}]}]};e.whenGET(/\.html$/).passThrough(),e.whenGET("api/artic").respond(t(o)),e.whenGET("api/atlantic").respond(t(i)),e.whenGET("api/indian").respond(t(r)),e.whenGET("api/pacific").respond(t(a)),e.whenGET("api/southern").respond(t(s)),e.whenGET("api/account").respond(t(l))}]),app.config(function(e){e.when("/account",{templateUrl:"ngViews/user/account.html",controller:"MainController",resolve:{thisJSON:function(e){return e.getOceans("account").then(function(e){return e})}}}).when("/signin",{templateUrl:"ngViews/login/signin.html",controller:function(e,t,n){e.hello=function(){t.signIn(),n.path("/")}}}).when("/signup",{templateUrl:"ngViews/login/signup.html",controller:"MainController"}).when("/signout",{templateUrl:"ngViews/login/signout.html"}).when("/",{templateUrl:"ngViews/main.html",controller:"MainController",resolve:{thisJSON:function(e,t){return e.getOceans("artic").then(function(e){return e})}}}).when("/:paramType",{templateUrl:"ngViews/main.html",controller:"MainController",resolve:{thisJSON:function(e,t){var n=t.current.params.paramType;return e.getOceans(n).then(function(e){return e})}}})}),navigator.serviceWorker&&navigator.serviceWorker.register("sw.js",{scope:".",headers:{"max-age":0}}).then(function(e){Notification.requestPermission()}),function(e,t){function n(){e.removeEventListener("load",n,!1),s=!0}function o(e){return l=l||new o.Class(e)}function i(e,t){for(var n in t)e[n]=t[n];return e}function r(){"#ath"==t.location.hash&&history.replaceState("",e.document.title,t.location.href.split("#")[0]),u.test(t.location.href)&&history.replaceState("",e.document.title,t.location.href.replace(u,"$1")),c.test(t.location.search)&&history.replaceState("",e.document.title,t.location.href.replace(c,"$2"))}var a="addEventListener"in e,s=!1;"complete"===t.readyState?s=!0:a&&e.addEventListener("load",n,!1);var l,u=/\/ath(\/)?$/,c=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;o.intl={cs_cs:{ios:"Pro přidáni této webové aplikace na úvodní obrazovku: stlačte %icon a pak <strong>Přidat na úvodní obrazovku</strong>.",android:'Pro přidáni této webové aplikace na úvodní obrazovku otevřete menu nastavení prohlížeče a stlačte <strong>Přidat na úvodní obrazovku</strong>. <small>K menu se dostanete stlačením hardwaroveho tlačítka, když ho vaše zařízení má, nebo stlačením pravé horní menu ikony <span class="ath-action-icon">icon</span>.</small>'},de_de:{ios:"Um diese Web-App zum Home-Bildschirm hinzuzufügen, tippen Sie auf %icon und dann <strong>Zum Home-Bildschirm</strong>.",android:"Um diese Web-App zum Home-Bildschirm hinzuzufügen, öffnen Sie das Menü und tippen dann auf <strong>Zum Startbildschirm hinzufügen</strong>. <small>Wenn Ihr Gerät eine Menütaste hat, lässt sich das Browsermenü über diese öffnen. Ansonsten tippen Sie auf %icon.</small>"},da_dk:{ios:"For at tilføje denne web app til hjemmeskærmen: Tryk %icon og derefter <strong>Føj til hjemmeskærm</strong>.",android:"For at tilføje denne web app til hjemmeskærmen, åbn browser egenskaber menuen og tryk på <strong>Føj til hjemmeskærm</strong>. <small>Denne menu kan tilgås ved at trykke på menu knappen, hvis din enhed har en, eller ved at trykke på det øverste højre menu ikon %icon.</small>"},el_gr:{ios:"Για να προσθέσετε την εφαρμογή στην αρχική οθόνη: πατήστε το %icon και μετά <strong>Πρόσθεσε στην αρχική οθόνη</strong>.",android:"Για να προσθέσετε την εφαρμογή στην αρχική οθόνη, ανοίξτε τις επιλογές του browser σας και πατήστε το <strong>Προσθήκη στην αρχική οθόνη</strong>. <small>Μπορείτε να έχετε πρόσβαση στο μενού, πατώντας το κουμπί του μενού του κινητού σας ή το πάνω δεξιά κουμπί του μενού %icon.</small>"},en_us:{ios:"To add this web app to the home screen: tap %icon and then <strong>Add to Home Screen</strong>.",android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},es_es:{ios:"Para añadir esta aplicación web a la pantalla de inicio: pulsa %icon y selecciona <strong>Añadir a pantalla de inicio</strong>.",android:"Para añadir esta aplicación web a la pantalla de inicio, abre las opciones y pulsa <strong>Añadir a pantalla inicio</strong>. <small>El menú se puede acceder pulsando el botón táctil en caso de tenerlo, o bien el icono de la parte superior derecha de la pantalla %icon.</small>"},fi_fi:{ios:"Liitä tämä sovellus kotivalikkoon: klikkaa %icon ja tämän jälkeen <strong>Lisää kotivalikkoon</strong>.",android:"Lisätäksesi tämän sovelluksen aloitusnäytölle, avaa selaimen valikko ja klikkaa tähti -ikonia tai <strong>Lisää aloitusnäytölle tekstiä</strong>. <small>Valikkoon pääsee myös painamalla menuvalikkoa, jos laitteessasi on sellainen tai koskettamalla oikealla yläkulmassa menu ikonia %icon.</small>"},fr_fr:{ios:"Pour ajouter cette application web sur l'écran d'accueil : Appuyez %icon et sélectionnez <strong>Ajouter sur l'écran d'accueil</strong>.",android:'Pour ajouter cette application web sur l\'écran d\'accueil : Appuyez sur le bouton "menu", puis sur <strong>Ajouter sur l\'écran d\'accueil</strong>. <small>Le menu peut-être accessible en appuyant sur le bouton "menu" du téléphone s\'il en possède un <i class="fa fa-bars"></i>. Sinon, il se trouve probablement dans la coin supérieur droit du navigateur %icon.</small>'},he_il:{ios:'<span dir="rtl">להוספת האפליקציה למסך הבית: ללחוץ על %icon ואז <strong>הוסף למסך הבית</strong>.</span>',android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},hu_hu:{ios:"Ha hozzá szeretné adni ezt az alkalmazást a kezdőképernyőjéhez, érintse meg a következő ikont: %icon , majd a <strong>Hozzáadás a kezdőképernyőhöz</strong> menüpontot.",android:"Ha hozzá szeretné adni ezt az alkalmazást a kezdőképernyőjéhez, a böngésző menüjében kattintson a <strong>Hozzáadás a kezdőképernyőhöz</strong> menüpontra. <small>A böngésző menüjét a következő ikon megérintésével tudja megnyitni: %icon.</small>"},it_it:{ios:"Per aggiungere questa web app alla schermata iniziale: premi %icon e poi <strong>Aggiungi a Home</strong>.",android:"Per aggiungere questa web app alla schermata iniziale, apri il menu opzioni del browser e premi su <strong>Aggiungi alla homescreen</strong>. <small>Puoi accedere al menu premendo il pulsante hardware delle opzioni se la tua device ne ha uno, oppure premendo l'icona %icon in alto a destra.</small>"},ja_jp:{ios:"このウェプアプリをホーム画面に追加するには、%iconをタップして<strong>ホーム画面に追加</strong>してください。",android:"このウェプアプリをホーム画面に追加するには、ブラウザのオプションメニューから<strong>ホーム画面に追加</strong>をタップしてください。<small>オプションメニューは、一部の機種ではデバイスのメニューボタンから、それ以外では画面右上の%iconからアクセスできます。</small>"},ko_kr:{ios:"홈 화면에 바로가기 생성: %icon 을 클릭한 후 <strong>홈 화면에 추가</strong>.",android:"브라우저 옵션 메뉴의 <string>홈 화면에 추가</string>를 클릭하여 홈화면에 바로가기를 생성할 수 있습니다. <small>옵션 메뉴는 장치의 메뉴 버튼을 누르거나 오른쪽 상단의 메뉴 아이콘 %icon을 클릭하여 접근할 수 있습니다.</small>"},nb_no:{ios:"For å installere denne appen på hjem-skjermen: trykk på %icon og deretter <strong>Legg til på Hjem-skjerm</strong>.",android:"For å legge til denne webappen på startsiden åpner en nettlesermenyen og velger <strong>Legg til på startsiden</strong>. <small>Menyen åpnes ved å trykke på den fysiske menyknappen hvis enheten har det, eller ved å trykke på menyikonet øverst til høyre %icon.</small>"},pt_br:{ios:"Para adicionar este app à tela de início: clique %icon e então <strong>Tela de início</strong>.",android:'Para adicionar este app à tela de início, abra o menu de opções do navegador e selecione <strong>Adicionar à tela inicial</strong>. <small>O menu pode ser acessado pressionando o "menu" button se o seu dispositivo tiver um, ou selecionando o ícone %icon no canto superior direito.</small>'},pt_pt:{ios:"Para adicionar esta app ao ecrã principal: clique %icon e depois <strong>Ecrã principal</strong>.",android:'Para adicionar esta app web ecrã principal, abra o menu de opções do navegador e selecione <strong>Adicionar à tela inicial</strong>. <small>O menu pode ser acessado pressionando o "menu" button se o seu dispositivo tiver um, ou selecionando o ícone %icon no canto superior direito.</small>'},nl_nl:{ios:"Om deze webapp aan je startscherm toe te voegen, klik op %icon en dan <strong>Zet in startscherm</strong>.",android:'Om deze webapp aan je startscherm toe te voegen, open de browserinstellingen en tik op <strong>Toevoegen aan startscherm</strong>. <small>Gebruik de "menu" knop als je telefoon die heeft, anders het menu-icoon rechtsbovenin %icon.</small>'},ru_ru:{ios:'Чтобы добавить этот сайт на свой домашний экран, нажмите на иконку %icon и затем <strong>На экран "Домой"</strong>.',android:"Чтобы добавить сайт на свой домашний экран, откройте меню браузера и нажмите на <strong>Добавить на главный экран</strong>. <small>Меню можно вызвать, нажав на кнопку меню вашего телефона, если она есть. Или найдите иконку сверху справа %icon[иконка].</small>"},sk_sk:{ios:"Pre pridanie tejto webovej aplikácie na úvodnú obrazovku: stlačte %icon a potom <strong>Pridať na úvodnú obrazovku</strong>.",android:'Pre pridanie tejto webovej aplikácie na úvodnú obrazovku otvorte menu nastavenia prehliadača a stlačte <strong>Pridať na úvodnú obrazovku</strong>. <small>K menu sa dostanete stlačením hardwaroveho tlačidla, ak ho vaše zariadenie má, alebo stlačením pravej hornej menu ikony <span class="ath-action-icon">icon</span>.</small>'},sv_se:{ios:"För att lägga till denna webbapplikation på hemskärmen: tryck på %icon och därefter <strong>Lägg till på hemskärmen</strong>.",android:"För att lägga till den här webbappen på hemskärmen öppnar du webbläsarens alternativ-meny och väljer <strong>Lägg till på startskärmen</strong>. <small>Man hittar menyn genom att trycka på hårdvaruknappen om din enhet har en sådan, eller genom att trycka på menyikonen högst upp till höger %icon.</small>"},tr_tr:{ios:"Uygulamayı ana ekrana eklemek için, %icon ve ardından <strong>ana ekrana ekle</strong> butonunu tıklayın.",android:"Uygulamayı ana ekrana eklemek için, menüye girin ve <strong>ana ekrana ekle</strong> butonunu tıklayın. <small>Cihazınız menü tuşuna sahip ise menüye girmek için menü tuşunu tıklayın. Aksi takdirde %icon butonunu tıklayın.</small>"
},uk_ua:{ios:"Щоб додати цей сайт на початковий екран, натисніть %icon, а потім <strong>На початковий екран</strong>.",android:"Щоб додати цей сайт на домашній екран, відкрийте меню браузера та виберіть <strong>Додати на головний екран</strong>. <small>Це можливо зробити, натиснувши кнопку меню на вашому смартфоні, якщо така є. Або ж на іконці зверху справа %icon.</small>"},zh_cn:{ios:"如要把应用程序加至主屏幕,请点击%icon, 然后<strong>添加到主屏幕</strong>",android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},zh_tw:{ios:"如要把應用程式加至主屏幕, 請點擊%icon, 然後<strong>加至主屏幕</strong>.",android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"}};for(var h in o.intl)o.intl[h.substr(0,2)]=o.intl[h];o.defaults={appID:"org.cubiq.addtohome",fontSize:15,debug:!1,logging:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,privateModeOverride:!1,detectHomescreen:!1};var d=e.navigator.userAgent,m=e.navigator;i(o,{hasToken:"#ath"==t.location.hash||u.test(t.location.href)||c.test(t.location.search),isRetina:e.devicePixelRatio&&e.devicePixelRatio>1,isIDevice:/iphone|ipod|ipad/i.test(d),isMobileChrome:d.indexOf("Android")>-1&&/Chrome\/[.0-9]*/.test(d)&&d.indexOf("Version")==-1,isMobileIE:d.indexOf("Windows Phone")>-1,language:m.language&&m.language.toLowerCase().replace("-","_")||""}),o.language=o.language&&o.language in o.intl?o.language:"en_us",o.isMobileSafari=o.isIDevice&&d.indexOf("Safari")>-1&&d.indexOf("CriOS")<0,o.OS=o.isIDevice?"ios":o.isMobileChrome?"android":o.isMobileIE?"windows":"unsupported",o.OSVersion=d.match(/(OS|Android) (\d+[_\.]\d+)/),o.OSVersion=o.OSVersion&&o.OSVersion[2]?+o.OSVersion[2].replace("_","."):0,o.isStandalone="standalone"in e.navigator&&e.navigator.standalone,o.isTablet=o.isMobileSafari&&d.indexOf("iPad")>-1||o.isMobileChrome&&d.indexOf("Mobile")<0,o.isCompatible=o.isMobileSafari&&o.OSVersion>=6||o.isMobileChrome;var p={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};o.removeSession=function(e){try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.removeItem(e||o.defaults.appID)}catch(e){}},o.doLog=function(e){this.options.logging&&console.log(e)},o.Class=function(n){if(this.doLog=o.doLog,this.options=i({},o.defaults),i(this.options,n),this.options&&this.options.debug&&"undefined"==typeof this.options.logging&&(this.options.logging=!0),a){if(this.options.mandatory=this.options.mandatory&&("standalone"in e.navigator||this.options.debug),this.options.modal=this.options.modal||this.options.mandatory,this.options.mandatory&&(this.options.startDelay=-.5),this.options.detectHomescreen=this.options.detectHomescreen===!0?"hash":this.options.detectHomescreen,this.options.debug&&(o.isCompatible=!0,o.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"==o.OS?"android":o.OS,o.OSVersion="ios"==o.OS?"8":"4"),this.container=t.body,this.session=this.getItem(this.options.appID),this.session=this.session?JSON.parse(this.session):void 0,!o.hasToken||o.isCompatible&&this.session||(o.hasToken=!1,r()),!o.isCompatible)return void this.doLog("Add to homescreen: not displaying callout because device not supported");this.session=this.session||p;try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.setItem(this.options.appID,JSON.stringify(this.session)),o.hasLocalStorage=!0}catch(e){o.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}for(var s=!this.options.validLocation.length,l=this.options.validLocation.length;l--;)if(this.options.validLocation[l].test(t.location.href)){s=!0;break}if(this.getItem("addToHome")&&this.optOut(),this.session.optedout)return void this.doLog("Add to homescreen: not displaying callout because user opted out");if(this.session.added)return void this.doLog("Add to homescreen: not displaying callout because already added to the homescreen");if(!s)return void this.doLog("Add to homescreen: not displaying callout because not a valid location");if(o.isStandalone)return this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&o.hasLocalStorage&&this.options.onAdd.call(this)),void this.doLog("Add to homescreen: not displaying callout because in standalone mode");if(this.options.detectHomescreen){if(o.hasToken)return r(),this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&o.hasLocalStorage&&this.options.onAdd.call(this)),void this.doLog("Add to homescreen: not displaying callout because URL has token, so we are likely coming from homescreen");"hash"==this.options.detectHomescreen?history.replaceState("",e.document.title,t.location.href+"#ath"):"smartURL"==this.options.detectHomescreen?history.replaceState("",e.document.title,t.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",e.document.title,t.location.href+(t.location.search?"&":"?")+"ath=")}if(!this.session.returningVisitor&&(this.session.returningVisitor=!0,this.updateSession(),this.options.skipFirstVisit))return void this.doLog("Add to homescreen: not displaying callout because skipping first visit");if(!this.options.privateModeOverride&&!o.hasLocalStorage)return void this.doLog("Add to homescreen: not displaying callout because browser is in private mode");this.ready=!0,this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&(this.doLog("Add to homescreen: autostart displaying callout"),this.show())}},o.Class.prototype={events:{load:"_delayedShow",error:"_delayedShow",orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(e){var t=this.events[e.type];t&&this[t](e)},show:function(n){if(this.options.autostart&&!s)return void setTimeout(this.show.bind(this),50);if(this.shown)return void this.doLog("Add to homescreen: not displaying callout because already shown on screen");var i=Date.now(),r=this.session.lastDisplayTime;if(n!==!0){if(!this.ready)return void this.doLog("Add to homescreen: not displaying callout because not ready");if(i-r<6e4*this.options.displayPace)return void this.doLog("Add to homescreen: not displaying callout because displayed recently");if(this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount)return void this.doLog("Add to homescreen: not displaying callout because displayed too many times already")}this.shown=!0,this.session.lastDisplayTime=i,this.session.displayCount++,this.updateSession(),this.applicationIcon||("ios"==o.OS?this.applicationIcon=t.querySelector('head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]'):this.applicationIcon=t.querySelector('head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));var a="";"object"==typeof this.options.message&&o.language in this.options.message?a=this.options.message[o.language][o.OS]:"object"==typeof this.options.message&&o.OS in this.options.message?a=this.options.message[o.OS]:this.options.message in o.intl?a=o.intl[this.options.message][o.OS]:""!==this.options.message?a=this.options.message:o.OS in o.intl[o.language]&&(a=o.intl[o.language][o.OS]),a="<p>"+a.replace(/%icon(?:\[([^\]]+)\])?/gi,function(e,t){return'<span class="ath-action-icon">'+(t?t:"icon")+"</span>"})+"</p>",this.viewport=t.createElement("div"),this.viewport.className="ath-viewport",this.options.modal&&(this.viewport.className+=" ath-modal"),this.options.mandatory&&(this.viewport.className+=" ath-mandatory"),this.viewport.style.position="absolute",this.element=t.createElement("div"),this.element.className="ath-container ath-"+o.OS+" ath-"+o.OS+(parseInt(o.OSVersion)||"")+" ath-"+(o.isTablet?"tablet":"phone"),this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0s;-webkit-transition-timing-function:ease-out;transition-property:transform,opacity;transition-duration:0s;transition-timing-function:ease-out;",this.element.style.webkitTransform="translate3d(0,-"+e.innerHeight+"px,0)",this.element.style.transform="translate3d(0,-"+e.innerHeight+"px,0)",this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=t.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img)),this.element.innerHTML+=a,this.viewport.style.left="-99999em",this.viewport.appendChild(this.element),this.container.appendChild(this.viewport),this.img?this.doLog("Add to homescreen: not displaying callout because waiting for img to load"):this._delayedShow()},_delayedShow:function(e){setTimeout(this._show.bind(this),1e3*this.options.startDelay+500)},_show:function(){var n=this;this.updateViewport(),e.addEventListener("resize",this,!1),e.addEventListener("scroll",this,!1),e.addEventListener("orientationchange",this,!1),this.options.modal&&t.addEventListener("touchmove",this,!0),this.options.mandatory||setTimeout(function(){n.element.addEventListener("click",n,!0)},1e3),setTimeout(function(){n.element.style.webkitTransitionDuration="1.2s",n.element.style.transitionDuration="1.2s",n.element.style.webkitTransform="translate3d(0,0,0)",n.element.style.transform="translate3d(0,0,0)"},0),this.options.lifespan&&(this.removeTimer=setTimeout(this.remove.bind(this),1e3*this.options.lifespan)),this.options.onShow&&this.options.onShow.call(this)},remove:function(){clearTimeout(this.removeTimer),this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1)),e.removeEventListener("resize",this,!1),e.removeEventListener("scroll",this,!1),e.removeEventListener("orientationchange",this,!1),t.removeEventListener("touchmove",this,!0),this.element.removeEventListener("click",this,!0),this.element.addEventListener("transitionend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("MSTransitionEnd",this,!1),this.element.style.webkitTransitionDuration="0.3s",this.element.style.opacity="0"},_removeElements:function(){this.element.removeEventListener("transitionend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("MSTransitionEnd",this,!1),this.container.removeChild(this.viewport),this.shown=!1,this.options.onRemove&&this.options.onRemove.call(this)},updateViewport:function(){if(this.shown){this.viewport.style.width=e.innerWidth+"px",this.viewport.style.height=e.innerHeight+"px",this.viewport.style.left=e.scrollX+"px",this.viewport.style.top=e.scrollY+"px";var n=t.documentElement.clientWidth;this.orientation=n>t.documentElement.clientHeight?"landscape":"portrait";var i="ios"==o.OS?"portrait"==this.orientation?screen.width:screen.height:screen.width;this.scale=screen.width>n?1:i/e.innerWidth,this.element.style.fontSize=this.options.fontSize/this.scale+"px"}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.updateViewport.bind(this),100)},updateSession:function(){o.hasLocalStorage!==!1&&localStorage&&localStorage.setItem(this.options.appID,JSON.stringify(this.session))},clearSession:function(){this.session=p,this.updateSession()},getItem:function(e){try{if(!localStorage)throw new Error("localStorage is not defined");return localStorage.getItem(e)}catch(e){o.hasLocalStorage=!1}},optOut:function(){this.session.optedout=!0,this.updateSession()},optIn:function(){this.session.optedout=!1,this.updateSession()},clearDisplayCount:function(){this.session.displayCount=0,this.updateSession()},_preventDefault:function(e){e.preventDefault(),e.stopPropagation()}},e.addToHomescreen=o}(window,document),function(e,t){function n(){e.removeEventListener("load",n,!1),s=!0}function o(e){return l=l||new o.Class(e)}function i(e,t){for(var n in t)e[n]=t[n];return e}function r(){"#ath"==t.location.hash&&history.replaceState("",e.document.title,t.location.href.split("#")[0]),u.test(t.location.href)&&history.replaceState("",e.document.title,t.location.href.replace(u,"$1")),c.test(t.location.search)&&history.replaceState("",e.document.title,t.location.href.replace(c,"$2"))}var a="addEventListener"in e,s=!1;"complete"===t.readyState?s=!0:a&&e.addEventListener("load",n,!1);var l,u=/\/ath(\/)?$/,c=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;o.intl={cs_cs:{ios:"Pro přidáni této webové aplikace na úvodní obrazovku: stlačte %icon a pak <strong>Přidat na úvodní obrazovku</strong>.",android:'Pro přidáni této webové aplikace na úvodní obrazovku otevřete menu nastavení prohlížeče a stlačte <strong>Přidat na úvodní obrazovku</strong>. <small>K menu se dostanete stlačením hardwaroveho tlačítka, když ho vaše zařízení má, nebo stlačením pravé horní menu ikony <span class="ath-action-icon">icon</span>.</small>'},de_de:{ios:"Um diese Web-App zum Home-Bildschirm hinzuzufügen, tippen Sie auf %icon und dann <strong>Zum Home-Bildschirm</strong>.",android:"Um diese Web-App zum Home-Bildschirm hinzuzufügen, öffnen Sie das Menü und tippen dann auf <strong>Zum Startbildschirm hinzufügen</strong>. <small>Wenn Ihr Gerät eine Menütaste hat, lässt sich das Browsermenü über diese öffnen. Ansonsten tippen Sie auf %icon.</small>"},da_dk:{ios:"For at tilføje denne web app til hjemmeskærmen: Tryk %icon og derefter <strong>Føj til hjemmeskærm</strong>.",android:"For at tilføje denne web app til hjemmeskærmen, åbn browser egenskaber menuen og tryk på <strong>Føj til hjemmeskærm</strong>. <small>Denne menu kan tilgås ved at trykke på menu knappen, hvis din enhed har en, eller ved at trykke på det øverste højre menu ikon %icon.</small>"},el_gr:{ios:"Για να προσθέσετε την εφαρμογή στην αρχική οθόνη: πατήστε το %icon και μετά <strong>Πρόσθεσε στην αρχική οθόνη</strong>.",android:"Για να προσθέσετε την εφαρμογή στην αρχική οθόνη, ανοίξτε τις επιλογές του browser σας και πατήστε το <strong>Προσθήκη στην αρχική οθόνη</strong>. <small>Μπορείτε να έχετε πρόσβαση στο μενού, πατώντας το κουμπί του μενού του κινητού σας ή το πάνω δεξιά κουμπί του μενού %icon.</small>"},en_us:{ios:"To add this web app to the home screen: tap %icon and then <strong>Add to Home Screen</strong>.",android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},es_es:{ios:"Para añadir esta aplicación web a la pantalla de inicio: pulsa %icon y selecciona <strong>Añadir a pantalla de inicio</strong>.",android:"Para añadir esta aplicación web a la pantalla de inicio, abre las opciones y pulsa <strong>Añadir a pantalla inicio</strong>. <small>El menú se puede acceder pulsando el botón táctil en caso de tenerlo, o bien el icono de la parte superior derecha de la pantalla %icon.</small>"},fi_fi:{ios:"Liitä tämä sovellus kotivalikkoon: klikkaa %icon ja tämän jälkeen <strong>Lisää kotivalikkoon</strong>.",android:"Lisätäksesi tämän sovelluksen aloitusnäytölle, avaa selaimen valikko ja klikkaa tähti -ikonia tai <strong>Lisää aloitusnäytölle tekstiä</strong>. <small>Valikkoon pääsee myös painamalla menuvalikkoa, jos laitteessasi on sellainen tai koskettamalla oikealla yläkulmassa menu ikonia %icon.</small>"},fr_fr:{ios:"Pour ajouter cette application web sur l'écran d'accueil : Appuyez %icon et sélectionnez <strong>Ajouter sur l'écran d'accueil</strong>.",android:'Pour ajouter cette application web sur l\'écran d\'accueil : Appuyez sur le bouton "menu", puis sur <strong>Ajouter sur l\'écran d\'accueil</strong>. <small>Le menu peut-être accessible en appuyant sur le bouton "menu" du téléphone s\'il en possède un <i class="fa fa-bars"></i>. Sinon, il se trouve probablement dans la coin supérieur droit du navigateur %icon.</small>'},he_il:{ios:'<span dir="rtl">להוספת האפליקציה למסך הבית: ללחוץ על %icon ואז <strong>הוסף למסך הבית</strong>.</span>',android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},hu_hu:{ios:"Ha hozzá szeretné adni ezt az alkalmazást a kezdőképernyőjéhez, érintse meg a következő ikont: %icon , majd a <strong>Hozzáadás a kezdőképernyőhöz</strong> menüpontot.",android:"Ha hozzá szeretné adni ezt az alkalmazást a kezdőképernyőjéhez, a böngésző menüjében kattintson a <strong>Hozzáadás a kezdőképernyőhöz</strong> menüpontra. <small>A böngésző menüjét a következő ikon megérintésével tudja megnyitni: %icon.</small>"},it_it:{ios:"Per aggiungere questa web app alla schermata iniziale: premi %icon e poi <strong>Aggiungi a Home</strong>.",android:"Per aggiungere questa web app alla schermata iniziale, apri il menu opzioni del browser e premi su <strong>Aggiungi alla homescreen</strong>. <small>Puoi accedere al menu premendo il pulsante hardware delle opzioni se la tua device ne ha uno, oppure premendo l'icona %icon in alto a destra.</small>"},ja_jp:{ios:"このウェプアプリをホーム画面に追加するには、%iconをタップして<strong>ホーム画面に追加</strong>してください。",android:"このウェプアプリをホーム画面に追加するには、ブラウザのオプションメニューから<strong>ホーム画面に追加</strong>をタップしてください。<small>オプションメニューは、一部の機種ではデバイスのメニューボタンから、それ以外では画面右上の%iconからアクセスできます。</small>"},ko_kr:{ios:"홈 화면에 바로가기 생성: %icon 을 클릭한 후 <strong>홈 화면에 추가</strong>.",android:"브라우저 옵션 메뉴의 <string>홈 화면에 추가</string>를 클릭하여 홈화면에 바로가기를 생성할 수 있습니다. <small>옵션 메뉴는 장치의 메뉴 버튼을 누르거나 오른쪽 상단의 메뉴 아이콘 %icon을 클릭하여 접근할 수 있습니다.</small>"},nb_no:{ios:"For å installere denne appen på hjem-skjermen: trykk på %icon og deretter <strong>Legg til på Hjem-skjerm</strong>.",android:"For å legge til denne webappen på startsiden åpner en nettlesermenyen og velger <strong>Legg til på startsiden</strong>. <small>Menyen åpnes ved å trykke på den fysiske menyknappen hvis enheten har det, eller ved å trykke på menyikonet øverst til høyre %icon.</small>"},pt_br:{ios:"Para adicionar este app à tela de início: clique %icon e então <strong>Tela de início</strong>.",android:'Para adicionar este app à tela de início, abra o menu de opções do navegador e selecione <strong>Adicionar à tela inicial</strong>. <small>O menu pode ser acessado pressionando o "menu" button se o seu dispositivo tiver um, ou selecionando o ícone %icon no canto superior direito.</small>'},pt_pt:{ios:"Para adicionar esta app ao ecrã principal: clique %icon e depois <strong>Ecrã principal</strong>.",android:'Para adicionar esta app web ecrã principal, abra o menu de opções do navegador e selecione <strong>Adicionar à tela inicial</strong>. <small>O menu pode ser acessado pressionando o "menu" button se o seu dispositivo tiver um, ou selecionando o ícone %icon no canto superior direito.</small>'},nl_nl:{ios:"Om deze webapp aan je startscherm toe te voegen, klik op %icon en dan <strong>Zet in startscherm</strong>.",android:'Om deze webapp aan je startscherm toe te voegen, open de browserinstellingen en tik op <strong>Toevoegen aan startscherm</strong>. <small>Gebruik de "menu" knop als je telefoon die heeft, anders het menu-icoon rechtsbovenin %icon.</small>'},ru_ru:{ios:'Чтобы добавить этот сайт на свой домашний экран, нажмите на иконку %icon и затем <strong>На экран "Домой"</strong>.',android:"Чтобы добавить сайт на свой домашний экран, откройте меню браузера и нажмите на <strong>Добавить на главный экран</strong>. <small>Меню можно вызвать, нажав на кнопку меню вашего телефона, если она есть. Или найдите иконку сверху справа %icon[иконка].</small>"},sk_sk:{ios:"Pre pridanie tejto webovej aplikácie na úvodnú obrazovku: stlačte %icon a potom <strong>Pridať na úvodnú obrazovku</strong>.",android:'Pre pridanie tejto webovej aplikácie na úvodnú obrazovku otvorte menu nastavenia prehliadača a stlačte <strong>Pridať na úvodnú obrazovku</strong>. <small>K menu sa dostanete stlačením hardwaroveho tlačidla, ak ho vaše zariadenie má, alebo stlačením pravej hornej menu ikony <span class="ath-action-icon">icon</span>.</small>'},sv_se:{ios:"För att lägga till denna webbapplikation på hemskärmen: tryck på %icon och därefter <strong>Lägg till på hemskärmen</strong>.",android:"För att lägga till den här webbappen på hemskärmen öppnar du webbläsarens alternativ-meny och väljer <strong>Lägg till på startskärmen</strong>. <small>Man hittar menyn genom att trycka på hårdvaruknappen om din enhet har en sådan, eller genom att trycka på menyikonen högst upp till höger %icon.</small>"},tr_tr:{ios:"Uygulamayı ana ekrana eklemek için, %icon ve ardından <strong>ana ekrana ekle</strong> butonunu tıklayın.",android:"Uygulamayı ana ekrana eklemek için, menüye girin ve <strong>ana ekrana ekle</strong> butonunu tıklayın. <small>Cihazınız menü tuşuna sahip ise menüye girmek için menü tuşunu tıklayın. Aksi takdirde %icon butonunu tıklayın.</small>"},uk_ua:{ios:"Щоб додати цей сайт на початковий екран, натисніть %icon, а потім <strong>На початковий екран</strong>.",android:"Щоб додати цей сайт на домашній екран, відкрийте меню браузера та виберіть <strong>Додати на головний екран</strong>. <small>Це можливо зробити, натиснувши кнопку меню на вашому смартфоні, якщо така є. Або ж на іконці зверху справа %icon.</small>"},zh_cn:{ios:"如要把应用程序加至主屏幕,请点击%icon, 然后<strong>添加到主屏幕</strong>",android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"},zh_tw:{ios:"如要把應用程式加至主屏幕, 請點擊%icon, 然後<strong>加至主屏幕</strong>.",android:"To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>"}};for(var h in o.intl)o.intl[h.substr(0,2)]=o.intl[h];o.defaults={appID:"org.cubiq.addtohome",fontSize:15,debug:!1,logging:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,privateModeOverride:!1,detectHomescreen:!1};var d=e.navigator.userAgent,m=e.navigator;i(o,{hasToken:"#ath"==t.location.hash||u.test(t.location.href)||c.test(t.location.search),isRetina:e.devicePixelRatio&&e.devicePixelRatio>1,isIDevice:/iphone|ipod|ipad/i.test(d),isMobileChrome:d.indexOf("Android")>-1&&/Chrome\/[.0-9]*/.test(d)&&d.indexOf("Version")==-1,isMobileIE:d.indexOf("Windows Phone")>-1,language:m.language&&m.language.toLowerCase().replace("-","_")||""}),o.language=o.language&&o.language in o.intl?o.language:"en_us",o.isMobileSafari=o.isIDevice&&d.indexOf("Safari")>-1&&d.indexOf("CriOS")<0,o.OS=o.isIDevice?"ios":o.isMobileChrome?"android":o.isMobileIE?"windows":"unsupported",o.OSVersion=d.match(/(OS|Android) (\d+[_\.]\d+)/),o.OSVersion=o.OSVersion&&o.OSVersion[2]?+o.OSVersion[2].replace("_","."):0,o.isStandalone="standalone"in e.navigator&&e.navigator.standalone,o.isTablet=o.isMobileSafari&&d.indexOf("iPad")>-1||o.isMobileChrome&&d.indexOf("Mobile")<0,o.isCompatible=o.isMobileSafari&&o.OSVersion>=6||o.isMobileChrome;var p={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};o.removeSession=function(e){try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.removeItem(e||o.defaults.appID)}catch(e){}},o.doLog=function(e){this.options.logging&&console.log(e)},o.Class=function(n){if(this.doLog=o.doLog,this.options=i({},o.defaults),i(this.options,n),this.options&&this.options.debug&&"undefined"==typeof this.options.logging&&(this.options.logging=!0),a){if(this.options.mandatory=this.options.mandatory&&("standalone"in e.navigator||this.options.debug),this.options.modal=this.options.modal||this.options.mandatory,this.options.mandatory&&(this.options.startDelay=-.5),this.options.detectHomescreen=this.options.detectHomescreen===!0?"hash":this.options.detectHomescreen,this.options.debug&&(o.isCompatible=!0,o.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"==o.OS?"android":o.OS,o.OSVersion="ios"==o.OS?"8":"4"),this.container=t.body,this.session=this.getItem(this.options.appID),this.session=this.session?JSON.parse(this.session):void 0,!o.hasToken||o.isCompatible&&this.session||(o.hasToken=!1,r()),!o.isCompatible)return void this.doLog("Add to homescreen: not displaying callout because device not supported");this.session=this.session||p;try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.setItem(this.options.appID,JSON.stringify(this.session)),o.hasLocalStorage=!0}catch(e){o.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}for(var s=!this.options.validLocation.length,l=this.options.validLocation.length;l--;)if(this.options.validLocation[l].test(t.location.href)){s=!0;break}if(this.getItem("addToHome")&&this.optOut(),this.session.optedout)return void this.doLog("Add to homescreen: not displaying callout because user opted out");if(this.session.added)return void this.doLog("Add to homescreen: not displaying callout because already added to the homescreen");if(!s)return void this.doLog("Add to homescreen: not displaying callout because not a valid location");if(o.isStandalone)return this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&o.hasLocalStorage&&this.options.onAdd.call(this)),void this.doLog("Add to homescreen: not displaying callout because in standalone mode");if(this.options.detectHomescreen){if(o.hasToken)return r(),this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&o.hasLocalStorage&&this.options.onAdd.call(this)),void this.doLog("Add to homescreen: not displaying callout because URL has token, so we are likely coming from homescreen");"hash"==this.options.detectHomescreen?history.replaceState("",e.document.title,t.location.href+"#ath"):"smartURL"==this.options.detectHomescreen?history.replaceState("",e.document.title,t.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",e.document.title,t.location.href+(t.location.search?"&":"?")+"ath=")}if(!this.session.returningVisitor&&(this.session.returningVisitor=!0,this.updateSession(),this.options.skipFirstVisit))return void this.doLog("Add to homescreen: not displaying callout because skipping first visit");if(!this.options.privateModeOverride&&!o.hasLocalStorage)return void this.doLog("Add to homescreen: not displaying callout because browser is in private mode");this.ready=!0,this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&(this.doLog("Add to homescreen: autostart displaying callout"),this.show())}},o.Class.prototype={events:{load:"_delayedShow",error:"_delayedShow",orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(e){var t=this.events[e.type];t&&this[t](e)},show:function(n){if(this.options.autostart&&!s)return void setTimeout(this.show.bind(this),50);if(this.shown)return void this.doLog("Add to homescreen: not displaying callout because already shown on screen");var i=Date.now(),r=this.session.lastDisplayTime;if(n!==!0){if(!this.ready)return void this.doLog("Add to homescreen: not displaying callout because not ready");if(i-r<6e4*this.options.displayPace)return void this.doLog("Add to homescreen: not displaying callout because displayed recently");if(this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount)return void this.doLog("Add to homescreen: not displaying callout because displayed too many times already")}this.shown=!0,this.session.lastDisplayTime=i,this.session.displayCount++,this.updateSession(),this.applicationIcon||("ios"==o.OS?this.applicationIcon=t.querySelector('head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]'):this.applicationIcon=t.querySelector('head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));var a="";"object"==typeof this.options.message&&o.language in this.options.message?a=this.options.message[o.language][o.OS]:"object"==typeof this.options.message&&o.OS in this.options.message?a=this.options.message[o.OS]:this.options.message in o.intl?a=o.intl[this.options.message][o.OS]:""!==this.options.message?a=this.options.message:o.OS in o.intl[o.language]&&(a=o.intl[o.language][o.OS]),a="<p>"+a.replace(/%icon(?:\[([^\]]+)\])?/gi,function(e,t){return'<span class="ath-action-icon">'+(t?t:"icon")+"</span>"})+"</p>",this.viewport=t.createElement("div"),this.viewport.className="ath-viewport",this.options.modal&&(this.viewport.className+=" ath-modal"),this.options.mandatory&&(this.viewport.className+=" ath-mandatory"),this.viewport.style.position="absolute",this.element=t.createElement("div"),this.element.className="ath-container ath-"+o.OS+" ath-"+o.OS+(parseInt(o.OSVersion)||"")+" ath-"+(o.isTablet?"tablet":"phone"),this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0s;-webkit-transition-timing-function:ease-out;transition-property:transform,opacity;transition-duration:0s;transition-timing-function:ease-out;",this.element.style.webkitTransform="translate3d(0,-"+e.innerHeight+"px,0)",this.element.style.transform="translate3d(0,-"+e.innerHeight+"px,0)",this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=t.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img)),this.element.innerHTML+=a,this.viewport.style.left="-99999em",this.viewport.appendChild(this.element),this.container.appendChild(this.viewport),this.img?this.doLog("Add to homescreen: not displaying callout because waiting for img to load"):this._delayedShow()},_delayedShow:function(e){setTimeout(this._show.bind(this),1e3*this.options.startDelay+500)},_show:function(){var n=this;this.updateViewport(),e.addEventListener("resize",this,!1),e.addEventListener("scroll",this,!1),e.addEventListener("orientationchange",this,!1),this.options.modal&&t.addEventListener("touchmove",this,!0),this.options.mandatory||setTimeout(function(){n.element.addEventListener("click",n,!0)},1e3),setTimeout(function(){n.element.style.webkitTransitionDuration="1.2s",n.element.style.transitionDuration="1.2s",n.element.style.webkitTransform="translate3d(0,0,0)",n.element.style.transform="translate3d(0,0,0)"},0),this.options.lifespan&&(this.removeTimer=setTimeout(this.remove.bind(this),1e3*this.options.lifespan)),this.options.onShow&&this.options.onShow.call(this)},remove:function(){clearTimeout(this.removeTimer),this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1)),e.removeEventListener("resize",this,!1),e.removeEventListener("scroll",this,!1),
e.removeEventListener("orientationchange",this,!1),t.removeEventListener("touchmove",this,!0),this.element.removeEventListener("click",this,!0),this.element.addEventListener("transitionend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("MSTransitionEnd",this,!1),this.element.style.webkitTransitionDuration="0.3s",this.element.style.opacity="0"},_removeElements:function(){this.element.removeEventListener("transitionend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("MSTransitionEnd",this,!1),this.container.removeChild(this.viewport),this.shown=!1,this.options.onRemove&&this.options.onRemove.call(this)},updateViewport:function(){if(this.shown){this.viewport.style.width=e.innerWidth+"px",this.viewport.style.height=e.innerHeight+"px",this.viewport.style.left=e.scrollX+"px",this.viewport.style.top=e.scrollY+"px";var n=t.documentElement.clientWidth;this.orientation=n>t.documentElement.clientHeight?"landscape":"portrait";var i="ios"==o.OS?"portrait"==this.orientation?screen.width:screen.height:screen.width;this.scale=screen.width>n?1:i/e.innerWidth,this.element.style.fontSize=this.options.fontSize/this.scale+"px"}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.updateViewport.bind(this),100)},updateSession:function(){o.hasLocalStorage!==!1&&localStorage&&localStorage.setItem(this.options.appID,JSON.stringify(this.session))},clearSession:function(){this.session=p,this.updateSession()},getItem:function(e){try{if(!localStorage)throw new Error("localStorage is not defined");return localStorage.getItem(e)}catch(e){o.hasLocalStorage=!1}},optOut:function(){this.session.optedout=!0,this.updateSession()},optIn:function(){this.session.optedout=!1,this.updateSession()},clearDisplayCount:function(){this.session.displayCount=0,this.updateSession()},_preventDefault:function(e){e.preventDefault(),e.stopPropagation()}},e.addToHomescreen=o}(window,document),function(e){"use strict";var t=window.angular.module("angular-web-notification",[]);t.factory("webNotification",function(){var t={};t.lib=e,t.allowRequest=!0,Object.defineProperty(t,"permissionGranted",{get:function(){var t=e.permission,n=!1;return"granted"===t&&(n=!0),n}});var n=function(){},o=function(){return t.permissionGranted},i=function(t,n){var o=0;n.autoClose&&"number"==typeof n.autoClose&&(o=n.autoClose),n.icon||(n.icon="/favicon.ico");var i=new e(t,n);n.onClick&&i&&(i.onclick=n.onClick);var r=function(){i.close()};return o&&setTimeout(r,o),r},r=function(e){var t=n;e.length&&"function"==typeof e[e.length-1]&&(t=e.pop());var o=null,i=null;if(2===e.length)o=e[0],i=e[1];else if(1===e.length){var r=e.pop();"string"==typeof r?(o=r,i={}):(o="",i=r)}return o=o||"",i=i||{},{callback:t,title:o,options:i}};return t.showNotification=function(){var n=Array.prototype.slice.call(arguments,0);if(n.length>=1&&n.length<=3){var a=r(n),s=a.callback,l=a.title,u=a.options,c=null;o()?(c=i(l,u),s(null,c)):t.allowRequest?e.requestPermission(function(){o()?(c=i(l,u),s(null,c)):s(new Error("Notifications are not enabled."),null)}):s(new Error("Notifications are not enabled."),null)}},t})}(window.Notification),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Dexie=t()}(this,function(){"use strict";function e(e,t){Se=e,xe=t}function t(){if(Ae)try{throw t.arguments,new Error}catch(e){return e}return new Error}function n(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(xe).map(function(e){return"\n"+e}).join("")):""}function o(){}function i(e){return e}function r(e,t){return null==e||e===i?t:function(n){return t(e(n))}}function a(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function s(e,t){return e===o?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var r=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?a(o,this.onsuccess):o),i&&(this.onerror=this.onerror?a(i,this.onerror):i),void 0!==r?r:n}}function l(e,t){return e===o?t:function(){e.apply(this,arguments);var n=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?a(n,this.onsuccess):n),o&&(this.onerror=this.onerror?a(o,this.onerror):o)}}function u(e,t){return e===o?t:function(n){var o=e.apply(this,arguments);d(n,o);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?a(i,this.onsuccess):i),r&&(this.onerror=this.onerror?a(r,this.onerror):r),void 0===o?void 0===s?void 0:s:d(o,s)}}function c(e,t){return e===o?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function h(e,t){return e===o?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var o=this,i=arguments.length,r=new Array(i);i--;)r[i]=arguments[i];return n.then(function(){return t.apply(o,r)})}return t.apply(this,arguments)}}function d(e,t){return"object"!=typeof t?e:(Oe(t).forEach(function(n){e[n]=t[n]}),e)}function m(e,t){return Ee.call(e,t)}function p(e,t){"function"==typeof t&&(t=t(Pe(e))),Oe(t).forEach(function(n){f(e,n,t[n])})}function f(e,t,n,o){Object.defineProperty(e,t,d(n&&m(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},o))}function g(e){return{from:function(t){return e.prototype=Object.create(t.prototype),f(e.prototype,"constructor",e),{extend:p.bind(null,e.prototype)}}}}function v(e,t){var n,o=Ce(e,t);return o||(n=Pe(e))&&v(n,t)}function b(e,t,n){return je.call(e,t,n)}function y(e,t){return t(e)}function w(e){var t=setTimeout(e,1e3);clearTimeout(t)}function k(e){if(!e)throw new Je.Internal("Assertion failed")}function _(e){Te.setImmediate?setImmediate(e):setTimeout(e,0)}function S(e,t){return e.reduce(function(e,n,o){var i=t(n,o);return i&&(e[i[0]]=i[1]),e},{})}function x(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function A(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function O(e,t){var n=F.reject(e);return t?n.uncaught(t):n}function I(e,t){if(m(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],o=0,i=t.length;o<i;++o){var r=I(e,t[o]);n.push(r)}return n}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return void 0===s?void 0:I(s,t.substr(a+1))}}function T(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){k("string"!=typeof n&&"length"in n);for(var o=0,i=t.length;o<i;++o)T(e,t[o],n[o])}else{var r=t.indexOf(".");if(r!==-1){var a=t.substr(0,r),s=t.substr(r+1);if(""===s)void 0===n?delete e[a]:e[a]=n;else{var l=e[a];l||(l=e[a]={}),T(l,s,n)}}else void 0===n?delete e[t]:e[t]=n}}function P(e,t){"string"==typeof t?T(e,t,void 0):"length"in t&&[].map.call(t,function(t){T(e,t,void 0)})}function E(e){var t={};for(var n in e)m(e,n)&&(t[n]=e[n]);return t}function C(e){if(!e||"object"!=typeof e)return e;var t;if(Ie(e)){t=[];for(var n=0,o=e.length;n<o;++n)t.push(C(e[n]))}else if(e instanceof Date)t=new Date,t.setTime(e.getTime());else{t=e.constructor?Object.create(e.constructor.prototype):{};for(var i in e)m(e,i)&&(t[i]=C(e[i]))}return t}function j(e,t,n,o){return n=n||{},o=o||"",Oe(e).forEach(function(i){if(m(t,i)){var r=e[i],a=t[i];"object"==typeof r&&"object"==typeof a&&r&&a&&r.constructor===a.constructor?j(r,a,n,o+i+"."):r!==a&&(n[o+i]=t[i])}else n[o+i]=void 0}),Oe(t).forEach(function(i){m(e,i)||(n[o+i]=t[i])}),n}function N(e){var t,n,o,i;if(1===arguments.length){if(Ie(e))return e.slice();if(this===Le&&"string"==typeof e)return[e];if(i=ze(e)){for(n=[];o=i.next(),!o.done;)n.push(o.value);return n}if(null==e)return[e];if(t=e.length,"number"==typeof t){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}function z(e){return De.apply([],e)}function L(e,n){this._e=t(),this.name=e,this.message=n}function D(e,t){return e+". Errors: "+t.map(function(e){return e.toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}function M(e,n,o,i){this._e=t(),this.failures=n,this.failedKeys=i,this.successCount=o}function G(e,n){this._e=t(),this.name="BulkError",this.failures=n,this.message=D(e,n)}function B(e,t){if(!e||e instanceof L||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Re[e.name])return e;var n=new Re[e.name](t||e.message,e);return"stack"in e&&f(n,"stack",{get:function(){return this.inner.stack}}),n}function H(e){function t(e,t,i){if("object"==typeof e)return n(e);t||(t=c),i||(i=o);var s={subscribers:[],fire:i,subscribe:function(e){s.subscribers.indexOf(e)===-1&&(s.subscribers.push(e),s.fire=t(s.fire,e))},unsubscribe:function(e){s.subscribers=s.subscribers.filter(function(t){return t!==e}),s.fire=s.subscribers.reduce(t,i)}};return r[e]=a[e]=s,s}function n(e){Oe(e).forEach(function(n){var o=e[n];if(Ie(o))t(n,e[n][0],e[n][1]);else{if("asap"!==o)throw new Je.InvalidArgument("Invalid event config");var r=t(n,i,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach(function(e){_(function(){e.apply(null,t)})})})}})}var r={},a=function(t,n){if(n){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return r[t].subscribe.apply(null,i),e}if("string"==typeof t)return r[t]};a.addEventType=t;for(var s=1,l=arguments.length;s<l;++s)t(arguments[s]);return a}function F(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=o,this._lib=!1;var n=this._PSD=rt;if(Se&&(this._stackHolder=t(),this._prev=null,this._numPrev=0,$(this,nt)),"function"!=typeof e){if(e!==qe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&R(this,this._value))}this._state=null,this._value=null,++n.ref,J(this,e)}function V(e,t,n,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=o,this.psd=rt}function J(e,t){try{t(function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Q();t&&"function"==typeof t.then?J(e,function(e,n){t instanceof F?t._then(e,n):t.then(e,n)}):(e._state=!0,e._value=t,K(e)),n&&Y()}},R.bind(null,e))}catch(t){R(e,t)}}function R(e,t){if(tt.push(t),null===e._state){var n=e._lib&&Q();t=ot(t),e._state=!1,e._value=t,Se&&null!==t&&"object"==typeof t&&!t._promise&&A(function(){var n=v(t,"stack");t._promise=e,f(t,"stack",{get:function(){return $e?n&&(n.get?n.get.apply(t):n.value):e.stack}})}),te(e),K(e),n&&Y()}}function K(e){var t=e._listeners;e._listeners=[];for(var n=0,o=t.length;n<o;++n)q(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===st&&(++st,Qe(function(){0===--st&&X()},[]))}function q(e,t){if(null===e._state)return void e._listeners.push(t);var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);var o=t.psd;++o.ref,++st,Qe(U,[n,e,t])}function U(e,t,n){var o=rt,i=n.psd;try{i!==o&&(rt=i),nt=t;var r,a=t._value;t._state?r=e(a):(tt.length&&(tt=[]),r=e(a),tt.indexOf(a)===-1&&ne(t)),n.resolve(r)}catch(e){n.reject(e)}finally{i!==o&&(rt=o),nt=null,0===--st&&X(),--i.ref||i.finalize()}}function W(e,t,o){if(t.length===o)return t;var i="";if(e._state===!1){var r,a,s=e._value;null!=s?(r=s.name||"Error",a=s.message||s,i=n(s,0)):(r=s,a=""),t.push(r+(a?": "+a:"")+i)}return Se&&(i=n(e._stackHolder,2),i&&t.indexOf(i)===-1&&t.push(i),e._prev&&W(e._prev,t,o)),t}function $(e,t){var n=t?t._numPrev+1:0;n<Ue&&(e._prev=t,e._numPrev=n)}function Z(){Q()&&Y()}function Q(){var e=Ye;return Ye=!1,Xe=!1,e}function Y(){var e,t,n;do for(;at.length>0;)for(e=at,at=[],n=e.length,t=0;t<n;++t){var o=e[t];o[0].apply(null,o[1])}while(at.length>0);Ye=!0,Xe=!0}function X(){var e=et;et=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=lt.slice(0),n=t.length;n;)t[--n]()}function ee(e){function t(){e(),lt.splice(lt.indexOf(t),1)}lt.push(t),++st,Qe(function(){0===--st&&X()},[])}function te(e){et.some(function(t){return t._value===e._value})||et.push(e)}function ne(e){for(var t=et.length;t;)if(et[--t]._value===e._value)return void et.splice(t,1)}function oe(e){console.warn("Unhandled rejection: "+(e.stack||e))}function ie(e){return new F(qe,(!1),e)}function re(e,t){var n=rt;return function(){var o=Q(),i=rt;try{return i!==n&&(rt=n),e.apply(this,arguments)}catch(e){t&&t(e)}finally{i!==n&&(rt=i),o&&Y()}}}function ae(e,t,n,o){var i=rt,r=Object.create(i);r.parent=i,r.ref=0,r.global=!1,++i.ref,r.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=se(r,e,t,n,o);return 0===r.ref&&r.finalize(),a}function se(e,t,n,o,i){var r=rt;try{return e!==r&&(rt=e),t(n,o,i)}finally{e!==r&&(rt=r)}}function le(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(n!==!1)try{F.on.error.fire(e,t)}catch(e){}}function ue(e,n){function a(){tt.on("versionchange",function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+tt.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+tt.name+"'. Closing db now to resume the delete request."),tt.close()}),tt.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+tt.name+"') was blocked"):console.warn("Upgrade '"+tt.name+"' blocked by other connection holding version "+e.oldVersion/10)})}function c(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function v(e,t,n){var o=tt._createTransaction(et,Ue,Ke);o.create(t),o._completion.catch(n);var i=o._reject.bind(o);ae(function(){rt.trans=o,0===e?(Oe(Ke).forEach(function(e){L(t,e,Ke[e].primKey,Ke[e].indexes)}),F.follow(function(){return tt.on.populate.fire(o)}).catch(i)):_(e,o,t).catch(i)})}function _(e,t,n){function o(){return i.length?F.resolve(i.shift()(t.idbtrans)).then(o):F.resolve()}var i=[],r=qe.filter(function(t){return t._cfg.version===e})[0];if(!r)throw new Je.Upgrade("Dexie specification of currently installed DB version is missing");Ke=tt._dbSchema=r._cfg.dbschema;var a=!1,s=qe.filter(function(t){return t._cfg.version>e});return s.forEach(function(e){i.push(function(){var o=Ke,i=e._cfg.dbschema;je(o,n),je(i,n),Ke=tt._dbSchema=i;var r=P(o,i);if(r.add.forEach(function(e){L(n,e[0],e[1].primKey,e[1].indexes)}),r.change.forEach(function(e){if(e.recreate)throw new Je.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach(function(e){V(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),V(t,e)}),e.del.forEach(function(e){t.deleteIndex(e)})}),e._cfg.contentUpgrade)return a=!0,F.follow(function(){e._cfg.contentUpgrade(t)})}),i.push(function(t){if(!a||!gt){var n=e._cfg.dbschema;B(n,t)}})}),o().then(function(){D(Ke,n)})}function P(e,t){var n={del:[],add:[],change:[]};for(var o in e)t[o]||n.del.push(o);for(o in t){var i=e[o],r=t[o];if(i){var a={name:o,def:r,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==r.primKey.src)a.recreate=!0,n.change.push(a);else{var s=i.idxByName,l=r.idxByName;for(var u in s)l[u]||a.del.push(u);for(u in l){var c=s[u],h=l[u];c?c.src!==h.src&&a.change.push(h):a.add.push(h)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([o,r])}return n}function L(e,t,n,o){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return o.forEach(function(e){V(i,e)}),i}function D(e,t){Oe(e).forEach(function(n){t.db.objectStoreNames.contains(n)||L(t,n,e[n].primKey,e[n].indexes)})}function B(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var o=t.db.objectStoreNames[n];null==e[o]&&t.db.deleteObjectStore(o)}}function V(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function J(e){return tt.on.error.fire(e)}function R(e,t,n){if(Ye||rt.letThrough){var i=tt._createTransaction(e,t,Ke);return i._promise(e,function(e,t){ae(function(){rt.trans=i,n(e,t,i)})}).then(function(e){return i._completion.then(function(){return e})})}if(!Qe){if(!Fe)return O(new Je.DatabaseClosed,J);tt.open().catch(o)}return nt.then(function(){return R(e,t,n)})}function K(e,t,n){this.name=e,this.schema=t,this.hook=We[e]?We[e].hook:H(null,{creating:[s,o],reading:[r,i],updating:[u,o],deleting:[l,o]}),this._collClass=n||Q}function q(e,t,n){K.call(this,e,t,n||X)}function U(e,t,n){return(n?fe:pe)(function(n){e.push(n),t&&t()})}function W(e,t,n,o,i){return new F(function(r,a){var s=n.length,l=s-1;if(0===s)return r();if(o){var u,c=fe(a),h=me(null);A(function(){for(var o=0;o<s;++o){u={onsuccess:null,onerror:null};var a=n[o];i.call(u,a[0],a[1],t);var d=e.delete(a[0]);d._hookCtx=u,d.onerror=c,o===l?d.onsuccess=me(r):d.onsuccess=h}},function(e){throw u.onerror&&u.onerror(e),e})}else for(var d=0;d<s;++d){var m=e.delete(n[d]);m.onerror=re(pe(a)),d===l&&(m.onsuccess=re(function(){return r()}))}}).uncaught(J)}function $(e,t,n,o){var i=this;this.db=tt,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=H(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._tables=null,this._reculock=0,this._blockedFuncs=[],this._psd=null,this._dbschema=n,this._resolve=null,this._reject=null,this._completion=new F(function(e,t){i._resolve=e,i._reject=t}).uncaught(J),this._completion.then(function(){i.on.complete.fire()},function(e){return i.on.error.fire(e),i.parent?i.parent._reject(e):i.active&&i.idbtrans&&i.idbtrans.abort(),i.active=!1,O(e)})}function Z(e,t,n){this._ctx={table:e,index:":id"===t?null:t,collClass:e._collClass,or:n}}function Q(e,t){var n=null,o=null;if(t)try{n=t()}catch(e){o=e}var i=e._ctx,r=i.table;this._ctx={table:r,index:i.index,isPrimKey:!i.index||r.schema.primKey.keyPath&&i.index===r.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:i.or,valueMapper:r.hook.reading.fire}}function Y(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function X(){Q.apply(this,arguments)}function ee(e,t){return e._cfg.version-t._cfg.version}function te(e,t,n,o){t.forEach(function(t){var i=tt._tableFactory(n,o[t]);e.forEach(function(e){t in e||(e[t]=i)})})}function ne(e){e.forEach(function(e){for(var t in e)e[t]instanceof K&&delete e[t]})}function oe(e,t,n,o,i,r){var a=r?function(e,t,o){return n(r(e),t,o)}:n,s=re(a,i);e.onerror||(e.onerror=pe(i)),t?e.onsuccess=x(function(){var n=e.result;if(n){var r=function(){n.continue()};t(n,function(e){r=e},o,i)&&s(n.value,n,function(e){r=e}),r()}else o()},i):e.onsuccess=x(function(){var t=e.result;if(t){var n=function(){t.continue()};s(t.value,t,function(e){n=e}),n()}else o()},i)}function ie(e){var t=[];return e.split(",").forEach(function(e){e=e.trim();var n=e.replace(/([&*]|\+\+)/g,""),o=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new ye(n,o||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Ie(o),/\./.test(e)))}),t}function se(e,t){return Ve.cmp(e,t)}function le(e,t){return se(e,t)<0?e:t}function ce(e,t){return se(e,t)>0?e:t}function xe(e,t){return Ve.cmp(e,t)}function Ae(e,t){return Ve.cmp(t,e)}function Te(e,t){return e<t?-1:e===t?0:1}function Pe(e,t){return e>t?-1:e===t?0:1}function Ee(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function Ce(){if(tt.verno=$e.version/10,tt._dbSchema=Ke={},Ue=b($e.objectStoreNames,0),0!==Ue.length){var e=$e.transaction(ke(Ue),"readonly");Ue.forEach(function(t){for(var n=e.objectStore(t),o=n.keyPath,i=o&&"string"==typeof o&&o.indexOf(".")!==-1,r=new ye(o,o||"",(!1),(!1),(!!n.autoIncrement),o&&"string"!=typeof o,i),a=[],s=0;s<n.indexNames.length;++s){var l=n.index(n.indexNames[s]);o=l.keyPath,i=o&&"string"==typeof o&&o.indexOf(".")!==-1;var u=new ye(l.name,o,(!!l.unique),(!!l.multiEntry),(!1),o&&"string"!=typeof o,i);a.push(u)}Ke[t]=new we(t,r,a,{})}),te([We,$.prototype],Oe(Ke),et,Ke)}}function je(e,t){for(var n=t.db.objectStoreNames,o=0;o<n.length;++o){var i=n[o],r=t.objectStore(i);Me="getAll"in r;for(var a=0;a<r.indexNames.length;++a){var s=r.indexNames[a],l=r.index(s).keyPath,u="string"==typeof l?l:"["+b(l).join("+")+"]";if(e[i]){var c=e[i].idxByName[u];c&&(c.name=s)}}}}function Ne(e){tt.on("blocked").fire(e),pt.filter(function(e){return e.name===tt.name&&e!==tt&&!e._vcFired}).map(function(t){return t.on("versionchange").fire(e)})}var ze,De,Me,Ge=ue.dependencies,Be=d({addons:ue.addons,autoOpen:!0,indexedDB:Ge.indexedDB,IDBKeyRange:Ge.IDBKeyRange},n),He=Be.addons,Fe=Be.autoOpen,Ve=Be.indexedDB,Re=Be.IDBKeyRange,Ke=this._dbSchema={},qe=[],Ue=[],We={},$e=null,Ze=null,Qe=!1,Ye=!1,Xe="readonly",et="readwrite",tt=this,nt=new F(function(e){ze=e}),ot=new F(function(e,t){De=t}),it=!0,at=!!_e(Ve);this.version=function(e){if($e||Qe)throw new Je.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=qe.filter(function(t){return t._cfg.version===e})[0];return t?t:(t=new c(e),qe.push(t),qe.sort(ee),t)},d(c.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,e):e;var t={};qe.forEach(function(e){d(t,e._cfg.storesSource)});var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),Ke=tt._dbSchema=n,ne([We,tt,$.prototype]),te([We,tt,$.prototype,this._cfg.tables],Oe(n),et,n),Ue=Oe(n),this},upgrade:function(e){var t=this;return yt(function(){e(tt._createTransaction(et,Oe(t._cfg.dbschema),t._cfg.dbschema))}),this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){Oe(e).forEach(function(n){if(null!==e[n]){var o={},i=ie(e[n]),r=i.shift();if(r.multi)throw new Je.Schema("Primary key cannot be multi-valued");r.keyPath&&T(o,r.keyPath,r.auto?0:r.keyPath),i.forEach(function(e){if(e.auto)throw new Je.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Je.Schema("Index must have a name and cannot be an empty string");T(o,e.keyPath,e.compound?e.keyPath.map(function(){return""}):"")}),t[n]=new we(n,r,i,o)}})}}),this._allTables=We,this._tableFactory=function(e,t){return e===Xe?new K(t.name,t,Q):new q(t.name,t)},this._createTransaction=function(e,t,n,o){return new $(e,t,n,o)},this._whenReady=function(e){return new F(wt||Ye||rt.letThrough?e:function(t,n){if(!Qe){if(!Fe)return void n(new Je.DatabaseClosed);tt.open().catch(o)}nt.then(function(){e(t,n)})}).uncaught(J)},this.verno=0,this.open=function(){if(Qe||$e)return nt.then(function(){return Ze?O(Ze,J):tt});Se&&(ot._stackHolder=t()),Qe=!0,Ze=null,Ye=!1;var n=ze,o=null;return F.race([ot,new F(function(t,n){if(w(function(){return t()}),qe.length>0&&(it=!1),!Ve)throw new Je.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=it?Ve.open(e):Ve.open(e,Math.round(10*tt.verno));if(!i)throw new Je.MissingAPI("IndexedDB API not available");i.onerror=re(pe(n)),i.onblocked=re(Ne),i.onupgradeneeded=re(function(t){if(o=i.transaction,it&&!tt._allowEmptyDB){i.onerror=ge,o.abort(),i.result.close();var r=Ve.deleteDatabase(e);r.onsuccess=r.onerror=re(function(){n(new Je.NoSuchDatabase("Database "+e+" doesnt exist"))})}else{o.onerror=re(pe(n));var a=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;v(a/10,o,n,i)}},n),i.onsuccess=re(function(){if(o=null,$e=i.result,pt.push(tt),it)Ce();else if($e.objectStoreNames.length>0)try{je(Ke,$e.transaction(ke($e.objectStoreNames),Xe))}catch(e){}$e.onversionchange=re(function(e){tt._vcFired=!0,tt.on("versionchange").fire(e)}),at||ve(function(t){if(t.indexOf(e)===-1)return t.push(e)}),t()},n)})]).then(function(){return ue.vip(tt.on.ready.fire)}).then(function(){return Qe=!1,tt}).catch(function(e){try{o&&o.abort()}catch(e){}return Qe=!1,tt.close(),Ze=e,O(Ze,J)}).finally(function(){Ye=!0,n()})},this.close=function(){var e=pt.indexOf(tt);if(e>=0&&pt.splice(e,1),$e){try{$e.close()}catch(e){}$e=null}Fe=!1,Ze=new Je.DatabaseClosed,Qe&&De(Ze),nt=new F(function(e){ze=e}),ot=new F(function(e,t){De=t})},this.delete=function(){var t=arguments.length>0;return new F(function(n,o){function i(){tt.close();var t=Ve.deleteDatabase(e);t.onsuccess=re(function(){at||ve(function(t){var n=t.indexOf(e);if(n>=0)return t.splice(n,1)}),n()}),t.onerror=re(pe(o)),t.onblocked=Ne}if(t)throw new Je.InvalidArgument("Arguments not allowed in db.delete()");Qe?nt.then(i):i()}).uncaught(J)},this.backendDB=function(){return $e},this.isOpen=function(){return null!==$e},this.hasFailed=function(){return null!==Ze},this.dynamicallyOpened=function(){return it},this.name=e,f(this,"tables",{get:function(){return Oe(We).map(function(e){return We[e]})}}),this.on=H(this,"error","populate","blocked","versionchange",{ready:[h,o]}),this.on.ready.subscribe=y(this.on.ready.subscribe,function(e){return function(t,n){ue.vip(function(){Ye?(F.resolve().then(t),n&&e(t)):(e(t),n||e(function e(){tt.on.ready.unsubscribe(t),tt.on.ready.unsubscribe(e)}))})}}),yt(function(){tt.on("populate").fire(tt._createTransaction(et,Ue,Ke)),tt.on("error").fire(new Error)}),this.transaction=function(e,t,n){function o(t){var o=rt;t(F.resolve().then(function(){return ae(function(){rt.transless=rt.transless||o;var t=tt._createTransaction(e,u,Ke,s);rt.trans=t,s?t.idbtrans=s.idbtrans:t.create();var i=u.map(function(e){return t.tables[e]});i.push(t);var r;return F.follow(function(){if(r=n.apply(t,i))if("function"==typeof r.next&&"function"==typeof r.throw)r=be(r);else if("function"==typeof r.then&&!m(r,"_PSD"))throw new Je.IncompatiblePromise("Incompatible Promise returned from transaction scope (read more at http://tinyurl.com/znyqjqc). Transaction scope: "+n.toString())}).uncaught(J).then(function(){return s&&t._resolve(),t._completion}).then(function(){return r}).catch(function(e){return t._reject(e),O(e)})})}))}var i=arguments.length;if(i<2)throw new Je.InvalidArgument("Too few arguments");for(var r=new Array(i-1);--i;)r[i-1]=arguments[i];n=r.pop();var a=z(r),s=rt.trans;s&&s.db===tt&&e.indexOf("!")===-1||(s=null);var l=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{var u=a.map(function(e){var t=e instanceof K?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t});if("r"==e||e==Xe)e=Xe;else{if("rw"!=e&&e!=et)throw new Je.InvalidArgument("Invalid transaction mode: "+e);e=et}if(s){if(s.mode===Xe&&e===et){if(!l)throw new Je.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&u.forEach(function(e){if(!m(s.tables,e)){if(!l)throw new Je.SubTransaction("Table "+e+" not included in parent transaction.");s=null}})}}catch(e){return s?s._promise(null,function(t,n){n(e)}):O(e,J)}return s?s._promise(e,o,"lock"):tt._whenReady(o)},this.table=function(e){if(wt&&it)return new q(e);if(!m(We,e))throw new Je.InvalidTable("Table "+e+" does not exist");return We[e]},p(K.prototype,{_trans:function(e,t,n){var o=rt.trans;return o&&o.db===tt?o._promise(e,t,n):R(e,[this.name],t)},_idbstore:function(e,t,n){function o(e,n,o){t(e,n,o.idbtrans.objectStore(r),o)}if(wt)return new F(t);var i=rt.trans,r=this.name;return i&&i.db===tt?i._promise(e,o,n):R(e,[this.name],o)},get:function(e,t){var n=this;return this._idbstore(Xe,function(t,o,i){wt&&t(n.schema.instanceTemplate);var r=i.get(e);r.onerror=pe(o),r.onsuccess=function(){t(n.hook.reading.fire(r.result))}}).then(t)},where:function(e){return new Z(this,e)},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new this._collClass(new Z(this,e))},toCollection:function(){return new this._collClass(new Z(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&he(n,t),this.schema.instanceTemplate=n;var o=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var o in t)m(t,o)&&(n[o]=t[o]);return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),e},defineClass:function(e){return this.mapToClass(ue.defineClass(e),e)}}),g(q).from(K).extend({bulkDelete:function(e){return this.hook.deleting.fire===o?this._idbstore(et,function(t,n,i,r){t(W(i,r,e,!1,o))}):this.where(":id").anyOf(e).delete().then(function(){})},bulkPut:function(e,t){var n=this;return this._idbstore(et,function(i,r,a){if(!a.keyPath&&!n.schema.primKey.auto&&!t)throw new Je.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(a.keyPath&&t)throw new Je.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Je.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();var s,l,u=function(e){0===c.length?i(e):r(new G(n.name+".bulkPut(): "+c.length+" of "+h+" operations failed",c))},c=[],h=e.length,d=n;if(n.hook.creating.fire===o&&n.hook.updating.fire===o){l=U(c);for(var m=0,p=e.length;m<p;++m)s=t?a.put(e[m],t[m]):a.put(e[m]),s.onerror=l;s.onerror=U(c,u),s.onsuccess=de(u)}else{var f=t||a.keyPath&&e.map(function(e){return I(e,a.keyPath)}),g=f&&S(f,function(t,n){return null!=t&&[t,e[n]]}),v=f?d.where(":id").anyOf(f.filter(function(e){return null!=e})).modify(function(){this.value=g[this.primKey],g[this.primKey]=null}).catch(M,function(e){c=e.failures}).then(function(){for(var n=[],o=t&&[],i=f.length-1;i>=0;--i){var r=f[i];(null==r||g[r])&&(n.push(e[i]),t&&o.push(r),null!=r&&(g[r]=null))}return n.reverse(),t&&o.reverse(),d.bulkAdd(n,o)}).then(function(e){var t=f[f.length-1];return null!=t?t:e}):d.bulkAdd(e);v.then(u).catch(G,function(e){c=c.concat(e.failures),u()}).catch(r)}},"locked")},bulkAdd:function(e,t){var n=this,i=this.hook.creating.fire;return this._idbstore(et,function(r,a,s,l){function u(e){0===m.length?r(e):a(new G(n.name+".bulkAdd(): "+m.length+" of "+p+" operations failed",m))}if(!s.keyPath&&!n.schema.primKey.auto&&!t)throw new Je.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&t)throw new Je.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Je.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var c,h,d,m=[],p=e.length;if(i!==o){var f,g=s.keyPath;h=U(m,null,!0),d=me(null),A(function(){for(var n=0,o=e.length;n<o;++n){f={onerror:null,onsuccess:null};var r=t&&t[n],a=e[n],u=t?r:g?I(a,g):void 0,m=i.call(f,u,a,l);null==u&&null!=m&&(g?(a=C(a),T(a,g,m)):r=m),c=null!=r?s.add(a,r):s.add(a),c._hookCtx=f,n<o-1&&(c.onerror=h,f.onsuccess&&(c.onsuccess=d))}},function(e){throw f.onerror&&f.onerror(e),e}),c.onerror=U(m,u,!0),c.onsuccess=me(u)}else{h=U(m);for(var v=0,b=e.length;v<b;++v)c=t?s.add(e[v],t[v]):s.add(e[v]),c.onerror=h;c.onerror=U(m,u),c.onsuccess=de(u)}})},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(et,function(i,r,a,s){var l={onsuccess:null,onerror:null};if(n!==o){var u=null!=t?t:a.keyPath?I(e,a.keyPath):void 0,c=n.call(l,u,e,s);null==u&&null!=c&&(a.keyPath?T(e,a.keyPath,c):t=c)}try{var h=null!=t?a.add(e,t):a.add(e);h._hookCtx=l,h.onerror=fe(r),h.onsuccess=me(function(t){var n=a.keyPath;n&&T(e,n,t),i(t)})}catch(e){throw l.onerror&&l.onerror(e),e}})},put:function(e,t){var n=this,i=this.hook.creating.fire,r=this.hook.updating.fire;return i!==o||r!==o?this._trans(et,function(o,i,r){var a=void 0!==t?t:n.schema.primKey.keyPath&&I(e,n.schema.primKey.keyPath);null==a?r.tables[n.name].add(e).then(o,i):(r._lock(),
e=C(e),r.tables[n.name].where(":id").equals(a).modify(function(){this.value=e}).then(function(o){return 0===o?r.tables[n.name].add(e,t):a}).finally(function(){r._unlock()}).then(o,i))}):this._idbstore(et,function(n,o,i){var r=void 0!==t?i.put(e,t):i.put(e);r.onerror=pe(o),r.onsuccess=function(t){var o=i.keyPath;o&&T(e,o,t.target.result),n(r.result)}})},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(et,function(t,n,o){var i=o.delete(e);i.onerror=pe(n),i.onsuccess=function(){t(i.result)}})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(et,function(e,t,n){var o=n.clear();o.onerror=pe(t),o.onsuccess=function(){e(o.result)}})},update:function(e,t){if("object"!=typeof t||Ie(t))throw new Je.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||Ie(e))return this.where(":id").equals(e).modify(t);Oe(t).forEach(function(n){T(e,n,t[n])});var n=I(e,this.schema.primKey.keyPath);return void 0===n?O(new Je.InvalidArgument("Given object does not contain its primary key"),J):this.where(":id").equals(n).modify(t)}}),p($.prototype,{_lock:function(){return k(!rt.global),++this._reculock,1!==this._reculock||rt.global||(rt.lockOwnerFor=this),this},_unlock:function(){if(k(!rt.global),0===--this._reculock)for(rt.global||(rt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{e()}catch(e){}}return this},_locked:function(){return this._reculock&&rt.lockOwnerFor!==this},create:function(e){var t=this;if(k(!this.idbtrans),!e&&!$e)switch(Ze&&Ze.name){case"DatabaseClosedError":throw new Je.DatabaseClosed(Ze);case"MissingAPIError":throw new Je.MissingAPI(Ze.message,Ze);default:throw new Je.OpenFailed(Ze)}if(!this.active)throw new Je.TransactionInactive;return k(null===this._completion._state),e=this.idbtrans=e||$e.transaction(ke(this.storeNames),this.mode),e.onerror=re(function(n){ge(n),t._reject(e.error)}),e.onabort=re(function(e){ge(e),t.active&&t._reject(new Je.Abort),t.active=!1,t.on("abort").fire(e)}),e.oncomplete=re(function(){t.active=!1,t._resolve()}),this},_promise:function(e,t,n){var o=this;return ae(function(){var i;return o._locked()?i=new F(function(i,r){o._blockedFuncs.push(function(){o._promise(e,t,n).then(i,r)})}):(i=o.active?new F(function(i,r){if(e===et&&o.mode!==et)throw new Je.ReadOnly("Transaction is readonly");!o.idbtrans&&e&&o.create(),n&&o._lock(),t(i,r,o)}):O(new Je.TransactionInactive),o.active&&n&&i.finally(function(){o._unlock()})),i._lib=!0,i.uncaught(J)})},abort:function(){this.active&&this._reject(new Je.Abort),this.active=!1},tables:{get:function(){return this._tables?this._tables:this._tables=S(this.storeNames,function(e){return[e,We[e]]})}},complete:function(e){return this.on("complete",e)},error:function(e){return this.on("error",e)},table:function(e){if(this.storeNames.indexOf(e)===-1)throw new Je.InvalidTable("Table "+e+" not in transaction");return We[e]}}),p(Z.prototype,function(){function e(e,t,n){var o=e instanceof Z?new e._ctx.collClass(e):e;return o._ctx.error=n?new n(t):new TypeError(t),o}function t(e){return new e._ctx.collClass(e,function(){return Re.only("")}).limit(0)}function n(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function o(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function i(e,t,n,o,i,r){for(var a=Math.min(e.length,o.length),s=-1,l=0;l<a;++l){var u=t[l];if(u!==o[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],o[l])<0?e.substr(0,l)+o[l]+n.substr(l+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[l],u)<0&&(s=l)}return a<o.length&&"next"===r?e+n.substr(e.length):a<e.length&&"prev"===r?e.substr(0,n.length):s<0?null:e.substr(0,s)+o[s]+n.substr(s+1)}function r(t,r,a,s){function l(e){u=n(e),c=o(e),h="next"===e?Te:Pe;var t=a.map(function(e){return{lower:c(e),upper:u(e)}}).sort(function(e,t){return h(e.lower,t.lower)});d=t.map(function(e){return e.upper}),m=t.map(function(e){return e.lower}),p=e,f="next"===e?"":s}var u,c,h,d,m,p,f,g=a.length;if(!a.every(function(e){return"string"==typeof e}))return e(t,mt);l("next");var v=new t._ctx.collClass(t,function(){return Re.bound(d[0],m[g-1]+s)});v._ondirectionchange=function(e){l(e)};var b=0;return v._addAlgorithm(function(e,t,n){var o=e.key;if("string"!=typeof o)return!1;var a=c(o);if(r(a,m,b))return!0;for(var s=null,l=b;l<g;++l){var u=i(o,a,d[l],m[l],h,p);null===u&&null===s?b=l+1:(null===s||h(s,u)>0)&&(s=u)}return t(null!==s?function(){e.continue(s+f)}:n),!1}),v}return{between:function(n,o,i,r){i=i!==!1,r=r===!0;try{return se(n,o)>0||0===se(n,o)&&(i||r)&&(!i||!r)?t(this):new this._ctx.collClass(this,function(){return Re.bound(n,o,!i,!r)})}catch(t){return e(this,dt)}},equals:function(e){return new this._ctx.collClass(this,function(){return Re.only(e)})},above:function(e){return new this._ctx.collClass(this,function(){return Re.lowerBound(e,!0)})},aboveOrEqual:function(e){return new this._ctx.collClass(this,function(){return Re.lowerBound(e)})},below:function(e){return new this._ctx.collClass(this,function(){return Re.upperBound(e,!0)})},belowOrEqual:function(e){return new this._ctx.collClass(this,function(){return Re.upperBound(e)})},startsWith:function(t){return"string"!=typeof t?e(this,mt):this.between(t,t+ct,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,function(e,t){return 0===e.indexOf(t[0])},[e],ct)},equalsIgnoreCase:function(e){return r(this,function(e,t){return e===t[0]},[e],"")},anyOfIgnoreCase:function(){var e=N.apply(Le,arguments);return 0===e.length?t(this):r(this,function(e,t){return t.indexOf(e)!==-1},e,"")},startsWithAnyOfIgnoreCase:function(){var e=N.apply(Le,arguments);return 0===e.length?t(this):r(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,ct)},anyOf:function(){var n=N.apply(Le,arguments),o=xe;try{n.sort(o)}catch(t){return e(this,dt)}if(0===n.length)return t(this);var i=new this._ctx.collClass(this,function(){return Re.bound(n[0],n[n.length-1])});i._ondirectionchange=function(e){o="next"===e?xe:Ae,n.sort(o)};var r=0;return i._addAlgorithm(function(e,t,i){for(var a=e.key;o(a,n[r])>0;)if(++r,r===n.length)return t(i),!1;return 0===o(a,n[r])||(t(function(){e.continue(n[r])}),!1)}),i},notEqual:function(e){return this.inAnyRange([[-(1/0),e],[e,ht]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=N.apply(Le,arguments);if(0===t.length)return new this._ctx.collClass(this);try{t.sort(xe)}catch(t){return e(this,dt)}var n=t.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-(1/0),t]]},null);return n.push([t[t.length-1],ht]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,o){function i(e,t){for(var n=0,o=e.length;n<o;++n){var i=e[n];if(se(t[0],i[1])<0&&se(t[1],i[0])>0){i[0]=le(i[0],t[0]),i[1]=ce(i[1],t[1]);break}}return n===o&&e.push(t),e}function r(e,t){return h(e[0],t[0])}function a(e){return!m(e)&&!p(e)}var s=this._ctx;if(0===n.length)return t(this);if(!n.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&xe(e[0],e[1])<=0}))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Je.InvalidArgument);var l,u=!o||o.includeLowers!==!1,c=o&&o.includeUppers===!0,h=xe;try{l=n.reduce(i,[]),l.sort(r)}catch(t){return e(this,dt)}var d=0,m=c?function(e){return xe(e,l[d][1])>0}:function(e){return xe(e,l[d][1])>=0},p=u?function(e){return Ae(e,l[d][0])>0}:function(e){return Ae(e,l[d][0])>=0},f=m,g=new s.collClass(this,function(){return Re.bound(l[0][0],l[l.length-1][1],!u,!c)});return g._ondirectionchange=function(e){"next"===e?(f=m,h=xe):(f=p,h=Ae),l.sort(r)},g._addAlgorithm(function(e,t,n){for(var o=e.key;f(o);)if(++d,d===l.length)return t(n),!1;return!!a(o)||0!==se(o,l[d][1])&&0!==se(o,l[d][0])&&(t(function(){h===xe?e.continue(l[d][0]):e.continue(l[d][1])}),!1)}),g},startsWithAnyOf:function(){var n=N.apply(Le,arguments);return n.every(function(e){return"string"==typeof e})?0===n.length?t(this):this.inAnyRange(n.map(function(e){return[e,e+ct]})):e(this,"startsWithAnyOf() only works with strings")}}}),p(Q.prototype,function(){function e(e,t){e.filter=Ee(e.filter,t)}function t(e,t,n){var o=e.replayFilter;e.replayFilter=o?function(){return Ee(o(),t())}:t,e.justLimit=n&&!o}function n(e,t){e.isMatch=Ee(e.isMatch,t)}function o(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new Je.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function r(e,t){var n=o(e,t);return e.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(e.range||null,e.dir+e.unique):n.openCursor(e.range||null,e.dir+e.unique)}function a(e,t,n,o,i){var a=e.replayFilter?Ee(e.filter,e.replayFilter()):e.filter;e.or?function(){function s(){2===++c&&n()}function l(e,n,i){if(!a||a(n,i,s,o)){var r=n.primaryKey.toString();m(u,r)||(u[r]=!0,t(e,n,i))}}var u={},c=0;e.or._iterate(l,s,o,i),oe(r(e,i),e.algorithm,l,s,o,!e.keysOnly&&e.valueMapper)}():oe(r(e,i),Ee(e.algorithm,a),t,n,o,!e.keysOnly&&e.valueMapper)}function s(e){return e.table.schema.instanceTemplate}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,function(e,t){t(n.error)}):n.table._idbstore(Xe,e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,function(e,n){n(t.error)}):t.table._idbstore(et,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Ee(t.algorithm,e)},_iterate:function(e,t,n,o){return a(this._ctx,e,t,n,o)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&d(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;if(wt){var n=s(t),o=t.table.schema.primKey.keyPath,i=I(n,t.index?t.table.schema.idxByName[t.index].keyPath:o),r=I(n,o);e(n,{key:i,primaryKey:r})}return this._read(function(n,o,i){a(t,e,n,o,i)})},count:function(e){if(wt)return F.resolve(0).then(e);var t=this._ctx;if(Y(t,!0))return this._read(function(e,n,i){var r=o(t,i),a=t.range?r.count(t.range):r.count();a.onerror=pe(n),a.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}},e);var n=0;return this._read(function(e,o,i){a(t,function(){return++n,!1},function(){e(n)},o,i)},e)},sortBy:function(e,t){function n(e,t){return t?n(e[i[t]],t-1):e[r]}function o(e,t){var o=n(e,a),i=n(t,a);return o<i?-s:o>i?s:0}var i=e.split(".").reverse(),r=i[0],a=i.length-1,s="next"===this._ctx.dir?1:-1;return this.toArray(function(e){return e.sort(o)}).then(t)},toArray:function(e){var t=this._ctx;return this._read(function(e,n,r){if(wt&&e([s(t)]),Me&&"next"===t.dir&&Y(t,!0)&&t.limit>0){var l=t.table.hook.reading.fire,u=o(t,r),c=t.limit<1/0?u.getAll(t.range,t.limit):u.getAll(t.range);c.onerror=pe(n),c.onsuccess=l===i?de(e):re(de(function(t){e(t.map(l))}))}else{var h=[];a(t,function(e){h.push(e)},function(){e(h)},n,r)}},e)},offset:function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,Y(n)?t(n,function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n(function(){e.advance(t),t=0}),!1))}}):t(n,function(){var t=e;return function(){return--t<0}}),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,function(){var t=e;return function(e,n,o){return--t<=0&&n(o),t>=0}},!0),this},until:function(t,n){var o=this._ctx;return wt&&t(s(o)),e(this._ctx,function(e,o,i){return!t(e.value)||(o(i),n)}),this},first:function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return wt&&t(s(this._ctx)),e(this._ctx,function(e){return t(e.value)}),n(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new Z(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},primaryKeys:function(e){var t=this._ctx;if(Me&&"next"===t.dir&&Y(t,!0)&&t.limit>0)return this._read(function(e,n,i){var r=o(t,i),a=t.limit<1/0?r.getAllKeys(t.range,t.limit):r.getAllKeys(t.range);a.onerror=pe(n),a.onsuccess=de(e)}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var o={};return e(this._ctx,function(e){var t=e.primaryKey.toString(),n=m(o,t);return o[t]=!0,!n}),this}}}),g(X).from(Q).extend({modify:function(e){var t=this,n=this._ctx,i=n.table.hook,r=i.updating.fire,a=i.deleting.fire;return wt&&"function"==typeof e&&e.call({value:n.table.schema.instanceTemplate},n.table.schema.instanceTemplate),this._write(function(n,i,s,l){function u(e,t){function n(e){return k.push(e),_.push(o.primKey),h(),!0}S=t.primaryKey;var o={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};if(p.call(o,e,o)!==!1){var i=!m(o,"value");++b,A(function(){var e=i?t.delete():t.update(o.value);e._hookCtx=o,e.onerror=fe(n),e.onsuccess=me(function(){++y,h()})},n)}else o.onsuccess&&o.onsuccess(o.value)}function c(e){return e&&(k.push(e),_.push(S)),i(new M("Error modifying one or more objects",k,y,_))}function h(){w&&y+k.length===b&&(k.length>0?c():n(y))}var p;if("function"==typeof e)p=r===o&&a===o?e:function(t){var n=C(t);if(e.call(this,t,this)===!1)return!1;if(m(this,"value")){var o=j(n,this.value),i=r.call(this,o,this.primKey,n,l);i&&(t=this.value,Oe(i).forEach(function(e){T(t,e,i[e])}))}else a.call(this,this.primKey,t,l)};else if(r===o){var f=Oe(e),g=f.length;p=function(t){for(var n=!1,o=0;o<g;++o){var i=f[o],r=e[i];I(t,i)!==r&&(T(t,i,r),n=!0)}return n}}else{var v=e;e=E(v),p=function(t){var n=!1,o=r.call(this,e,this.primKey,C(t),l);return o&&d(e,o),Oe(e).forEach(function(o){var i=e[o];I(t,o)!==i&&(T(t,o,i),n=!0)}),o&&(e=E(v)),n}}var b=0,y=0,w=!1,k=[],_=[],S=null;t.clone().raw()._iterate(u,function(){w=!0,h()},c,s)})},delete:function(){var e=this,t=this._ctx,n=t.range,i=t.table.hook.deleting.fire,r=i!==o;if(!r&&Y(t)&&(t.isPrimKey&&!vt||!n))return this._write(function(e,t,o){var i=pe(t),r=n?o.count(n):o.count();r.onerror=i,r.onsuccess=function(){var a=r.result;A(function(){var t=n?o.delete(n):o.clear();t.onerror=i,t.onsuccess=function(){return e(a)}},function(e){return t(e)})}});var a=r?2e3:1e4;return this._write(function(n,o,s,l){var u=0,c=e.clone({keysOnly:!t.isMatch&&!r}).distinct().limit(a).raw(),h=[],d=function(){return c.each(r?function(e,t){h.push([t.primaryKey,t.value])}:function(e,t){h.push(t.primaryKey)}).then(function(){return r?h.sort(function(e,t){return xe(e[0],t[0])}):h.sort(xe),W(s,l,h,r,i)}).then(function(){var e=h.length;return u+=e,h=[],e<a?u:d()})};n(d())})}}),d(this,{Collection:Q,Table:K,Transaction:$,Version:c,WhereClause:Z,WriteableCollection:X,WriteableTable:q}),a(),He.forEach(function(e){e(tt)})}function ce(e){if("function"==typeof e)return new e;if(Ie(e))return[ce(e[0])];if(e&&"object"==typeof e){var t={};return he(t,e),t}return e}function he(e,t){return Oe(t).forEach(function(n){var o=ce(t[n]);e[n]=o}),e}function de(e){return function(t){e(t.target.result)}}function me(e){return re(function(t){var n=t.target,o=n.result,i=n._hookCtx,r=i&&i.onsuccess;r&&r(o),e&&e(o)},e)}function pe(e){return function(t){return ge(t),e(t.target.error),!1}}function fe(e){return re(function(t){var n=t.target,o=n.error,i=n._hookCtx,r=i&&i.onerror;return r&&r(o),ge(t),e(o),!1})}function ge(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function ve(e){var t,n=ue.dependencies.localStorage;if(!n)return e([]);try{t=JSON.parse(n.getItem("Dexie.DatabaseNames")||"[]")}catch(e){t=[]}e(t)&&n.setItem("Dexie.DatabaseNames",JSON.stringify(t))}function be(e){function t(e){return function(t){var n=e(t),o=n.value;return n.done?o:o&&"function"==typeof o.then?o.then(i,r):Ie(o)?F.all(o).then(i,r):i(o)}}var n=function(t){return e.next(t)},o=function(t){return e.throw(t)},i=t(n),r=t(o);return t(n)()}function ye(e,t,n,o,i,r,a){this.name=e,this.keyPath=t,this.unique=n,this.multi=o,this.auto=i,this.compound=r,this.dotted=a;var s="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(o?"*":"")+(i?"++":"")+s}function we(e,t,n,o){this.name=e,this.primKey=t||new ye,this.indexes=n||[new ye],this.instanceTemplate=o,this.mappedClass=null,this.idxByName=S(n,function(e){return[e.name,e]})}function ke(e){return 1===e.length?e[0]:e}function _e(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}var Se="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),xe=function(){return!0},Ae=!new Error("").stack,Oe=Object.keys,Ie=Array.isArray,Te="undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Pe=Object.getPrototypeOf,Ee={}.hasOwnProperty,Ce=Object.getOwnPropertyDescriptor,je=[].slice,Ne="undefined"!=typeof Symbol&&Symbol.iterator,ze=Ne?function(e){var t;return null!=e&&(t=e[Ne])&&t.apply(e)}:function(){return null},Le={},De=[].concat,Me=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","IncompatiblePromise"],Ge=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Be=Me.concat(Ge),He={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};g(L).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+n(this._e,2))}},toString:function(){return this.name+": "+this.message}}),g(M).from(L),g(G).from(L);var Fe=Be.reduce(function(e,t){return e[t]=t+"Error",e},{}),Ve=L,Je=Be.reduce(function(e,n){function o(e,o){this._e=t(),this.name=i,e?"string"==typeof e?(this.message=e,this.inner=o||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=He[n]||i,this.inner=null)}var i=n+"Error";return g(o).from(Ve),e[n]=o,e},{});Je.Syntax=SyntaxError,Je.Type=TypeError,Je.Range=RangeError;var Re=Ge.reduce(function(e,t){return e[t+"Error"]=Je[t],e},{}),Ke=Be.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Je[t]),e},{});Ke.ModifyError=M,Ke.DexieError=L,Ke.BulkError=G;var qe={},Ue=100,We=20,$e=!1,Ze=Te.setImmediate?setImmediate.bind(null,Z):Te.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){Z(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Z,0)},Qe=function(e,t){at.push([e,t]),Xe&&(Ze(),Xe=!1)},Ye=!0,Xe=!0,et=[],tt=[],nt=null,ot=i,it={global:!0,ref:0,unhandleds:[],onunhandled:le,finalize:function(){this.unhandleds.forEach(function(e){try{le(e[0],e[1])}catch(e){}})}},rt=it,at=[],st=0,lt=[];p(F.prototype,{then:function(e,t){var n=this,o=new F(function(o,i){q(n,new V(e,t,o,i))});return Se&&(!this._prev||null===this._state)&&$(o,this),o},_then:function(e,t){q(this,new V(null,null,e,t))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,function(e){return e instanceof t?n(e):ie(e)}):this.then(null,function(e){return e&&e.name===t?n(e):ie(e)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),ie(t)})},uncaught:function(e){var t=this;return this.onuncatched=c(this.onuncatched,e),this._state===!1&&et.indexOf(this)===-1&&et.some(function(e,n,o){return e._value===t._value&&(o[n]=t)}),this},stack:{get:function(){if(this._stack)return this._stack;try{$e=!0;var e=W(this,[],We),t=e.join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{$e=!1}}}}),p(F,{all:function(){var e=N.apply(null,arguments);return new F(function(t,n){0===e.length&&t([]);var o=e.length;e.forEach(function(i,r){return F.resolve(i).then(function(n){e[r]=n,--o||t(e)},n)})})},resolve:function(e){return e&&"function"==typeof e.then?e:new F(qe,(!0),e)},reject:ie,race:function(){var e=N.apply(null,arguments);return new F(function(t,n){e.map(function(e){return F.resolve(e).then(t,n)})})},PSD:{get:function(){return rt},set:function(e){return rt=e}},newPSD:ae,usePSD:se,scheduler:{get:function(){return Qe},set:function(e){Qe=e}},rejectionMapper:{get:function(){return ot},set:function(e){ot=e}},follow:function(e){return new F(function(t,n){return ae(function(t,n){var o=rt;o.unhandleds=[],o.onunhandled=n,o.finalize=a(function(){var e=this;ee(function(){0===e.unhandleds.length?t():n(e.unhandleds[0])})},o.finalize),e()},t,n)})},on:H(null,{error:[c,oe]})}),w(function(){Qe=function(e,t){setTimeout(function(){e.apply(null,t)},0)}});var ut="1.4.2",ct=String.fromCharCode(65535),ht=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return ct}}(),dt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",mt="String expected.",pt=[],ft="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),gt=ft,vt=ft,bt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};e(Se,bt);var yt=function(){},wt=!1,kt=Te.idbModules&&Te.idbModules.shimIndexedDB?Te.idbModules:{};return p(ue,Ke),p(ue,{delete:function(e){var t=new ue(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new ue(e).open().then(function(e){return e.close(),!0}).catch(ue.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(e){return new F(function(e,t){var n=_e(indexedDB);if(n){var o=n();o.onsuccess=function(t){e(b(t.target.result,0))},o.onerror=pe(t)}else ve(function(t){return e(t),!1})}).then(e)},defineClass:function(e){function t(t){t?d(this,t):wt&&he(this,e)}return t},applyStructure:he,ignoreTransaction:function(e){return rt.trans?se(rt.transless,e):e()},vip:function(e){return ae(function(){return rt.letThrough=!0,e()})},async:function(e){return function(){try{var t=be(e.apply(this,arguments));return t&&"function"==typeof t.then?t:F.resolve(t)}catch(e){return O(e)}}},spawn:function(e,t,n){try{var o=be(e.apply(n,t||[]));return o&&"function"==typeof o.then?o:F.resolve(o)}catch(e){return O(e)}},currentTransaction:{get:function(){return rt.trans||null}},Promise:F,debug:{get:function(){return Se},set:function(t){e(t,"dexie"===t?function(){return!0}:bt)}},derive:g,extend:d,props:p,override:y,Events:H,events:H,getByKeyPath:I,setByKeyPath:T,delByKeyPath:P,shallowClone:E,deepClone:C,getObjectDiff:j,asap:_,maxKey:ht,addons:[],connections:pt,MultiModifyError:Je.Modify,errnames:Fe,IndexSpec:ye,TableSchema:we,dependencies:{indexedDB:kt.shimIndexedDB||Te.indexedDB||Te.mozIndexedDB||Te.webkitIndexedDB||Te.msIndexedDB,IDBKeyRange:kt.IDBKeyRange||Te.IDBKeyRange||Te.webkitIDBKeyRange},semVer:ut,version:ut.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)}),fakeAutoComplete:yt,default:ue}),A(function(){ue.dependencies.localStorage=null!=("undefined"!=typeof chrome&&null!==chrome?chrome.storage:void 0)?null:Te.localStorage}),F.rejectionMapper=B,w(function(){ue.fakeAutoComplete=yt=w,ue.fake=wt=!0}),ue}),function(){function e(){var e=document.createElement("div");this.addEventListener=function(t,n){e.addEventListener(t,n.bind(this))},this.removeEventListener=function(t,n){e.removeEventListener(t,n.bind(this))},this.dispatchEvent=function(t){if("string"==typeof t)try{e.dispatchEvent(new Event(t))}catch(o){var n=document.createEvent("Event");n.initEvent(t,!1,!0),e.dispatchEvent(n)}}}function t(t,n){e.call(this);var o=c;Object.defineProperties(this,{close:{value:function(e){o===c&&(window.external.msSiteModeClearIconOverlay(),h.forEach(function(e){window.removeEventListener(e,this.close)}.bind(this)),this.dispatchEvent("click"),this.dispatchEvent("close"),o=null)}.bind(this)}}),this.close(),this.icon&&window.external.msSiteModeSetIconOverlay(d(this.icon),this.description||this.title),window.external.msSiteModeActivate(),this.dispatchEvent("show"),h.forEach(function(e){window.addEventListener(e,this.close)}.bind(this)),o=++c}function n(){}function o(e,t){var n,o;if(!arguments.length)throw TypeError('Failed to construct "Notification": 1 argument required, but only 0 present.');if(""===e&&(e="\b"),arguments.length>1&&"object"!=typeof t)throw TypeError('Failed to construct "Notification": parameter 2 ("options") is not an object.');if(n=Object(t).dir,void 0!==n&&u.indexOf(n)===-1)throw TypeError('Failed to construct "Notification": The provided value "'+n+'" is not a valid enum value of type NotificationDirection.');return t=Object(t),o=new m(e,t),o.body||Object.defineProperty(o,"body",{value:String(t.body||"")}),o.data||Object.defineProperty(o,"data",{value:t.data||null}),o.dir||Object.defineProperty(o,"dir",{value:n||u[0]}),o.icon||Object.defineProperty(o,"icon",{value:String(t.icon||"")}),o.lang||Object.defineProperty(o,"lang",{value:String(t.lang||"")}),o.requireInteraction||Object.defineProperty(o,"requireInteraction",{value:Boolean(t.requireInteraction)}),o.silent||Object.defineProperty(o,"silent",{value:Boolean(t.silent)}),o.tag||Object.defineProperty(o,"tag",{value:String(t.tag||"")}),o.title||Object.defineProperty(o,"title",{value:String(e)}),o.timestamp||Object.defineProperty(o,"timestamp",{value:(new Date).getTime()}),o}var i="default",r="granted",a="denied",s="notsupported",l=[r,i,a,s],u=["auto","ltr","rtl"],c=-1,h=["click","scroll","focus"],d=function(e){var t=e.lastIndexOf(".");return(t!==-1?e.substr(0,t):e)+".ico"},m=window.Notification||window.webkitNotifications&&n||"external"in window&&"msIsSiteMode"in window.external&&void 0!==window.external.msIsSiteMode()&&t||e;Object.defineProperty(e,"permission",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"requestPermission",{enumerable:!0,writable:!0,value:function(e){e(this.permission)}}),Object.defineProperty(t,"permission",{enumerable:!0,get:function(){var e=window.external.msIsSiteMode();return e?r:a}}),Object.defineProperty(t,"requestPermission",{enumerable:!0,writable:!0,value:function(e){return new Promise(function(e,t){this.permission===a&&alert(this.PERMISSION_REQUEST_MESSAGE),e(this.permission)}.bind(this))}}),Object.defineProperty(t,"PERMISSION_REQUEST_MESSAGE",{writable:!0,value:"IE supports notifications in pinned mode only. Pin this page on your taskbar to receive notifications."}),Object.defineProperty(n,"permission",{enumerable:!0,get:function(){return l[window.webkitNotifications.checkPermission()]}}),Object.defineProperty(n,"requestPermission",{enumerable:!0,writable:!0,value:function(e){return new Promise(function(e,t){window.webkitNotifications.requestPermission(function(t){e(t)})})}}),m.permission||Object.defineProperty(m,"permission",{enumerable:!0,get:function(){return m.permissionLevel&&m.permissionLevel()}}),Object.defineProperty(o,"permission",{enumerable:!0,get:function(){return m.permission}}),Object.defineProperty(o,"requestPermission",{enumerable:!0,value:function(){return new Promise(function(e,t){var n=m.requestPermission(function(t){e(t)});n instanceof Promise&&e(n)})}}),window.Notification=o}(),app.controller("CommentsController",["$scope","OceansService","thisJSON",function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++)if(angular.equals(t[n],e))return!0;return!1}e.thisJSON=n,e.isFollows=function(t){var n=e.thisJSON.seas[t].followers,i={name:"Julian Bishop",photo:"img/avatar-thumb-4.png"};return!!o(i,n)},e.togglecomments=function(t){e.thisJSON.seas[t].togglecomments=!e.thisJSON.seas[t].togglecomments},e.addFollowers=function(t){var n={name:"Julian Bishop",photo:"img/avatar-thumb-4.png"};o(n,e.thisJSON.seas[t].followers)!==!0&&e.thisJSON.seas[t].followers.push(n)}}]),app.controller("MainController",["$scope","OceansService","thisJSON","webNotification","$timeout",function(e,t,n,o,i){function r(e,t){for(var n=0;n<t.length;n++)if(angular.equals(t[n],e))return!0;return!1}e.thisJSON=n,e.addFollowers=function(t){function n(e){o.showNotification("Oceans",{body:"Now following "+e,icon:"img/favicon-lrg.png",onClick:function(){console.log("Notification clicked.")},delay:5e3,autoClose:4e3},function(e,t){e?window.alert("Unable to show notification: "+e.message):(console.log("Notification Shown."),setTimeout(function(){console.log("Hiding notification...."),t()},5e3))})}var a={name:"Julian Bishop",photo:"img/avatar-thumb-4.png"};r(a,e.thisJSON.seas[t].followers)!==!0&&e.thisJSON.seas[t].followers.push(a),i(function(){n(e.thisJSON.seas[t].name)},3e3)},e.isFollows=function(t){var n=e.thisJSON.seas[t].followers,o={name:"Julian Bishop",photo:"img/avatar-thumb-4.png"};return!!r(o,n)},e.appliedClass=function(e){return"LOW"==e?"sea-data-tide-low":"MED"==e?"sea-data-tide-med":"sea-data-tide-high"}}]),app.directive("ocFooter",function(){return{templateUrl:"ngViews/footer/footer.html",restrict:"E",controller:function(e,t){e.showFooter=function(){return"/signup"!=t.path()&&"/signin"!=t.path()&&"/signout"!=t.path()}}}}),app.directive("navBar",function(){return{templateUrl:"ngViews/navbar/navbar.html",controller:function(e,t){e.loggedin=function(){return t.isSignedIn},e.hello=function(){return t.isSignedIn?"bubble":"bubble-short"},e.userAvatar="img/avatar-thumb-7.png",e.signOut=function(){t.signOut()}},restrict:"E"}}),app.factory("LoginService",function(){var e={myUrl:"img/avatar/blank.png",myUserName:"123",isSignedIn:!1,getUrl:function(){return e.myUrl},getUserName:function(){return e.myUserName},setUserName:function(t){e.myUserName=t},changeUrl:function(t){e.myUrl=t},getSignedIn:function(){return e.isSignedIn},signIn:function(){e.isSignedIn=!0},signOut:function(){e.isSignedIn=!1}};return e}),app.factory("OceansService",function(e){var t=function(t){var n="api/"+t;return e.get(n).then(function(e){return console.log("Inside the service"),addNewOcean(t,e.data),e.data})};return{getOceans:t}});